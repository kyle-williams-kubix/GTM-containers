{
    "exportFormatVersion": 2,
    "exportTime": "2025-01-24 13:12:09",
    "containerVersion": {
        "path": "accounts/6246124678/containers/199416058/versions/0",
        "accountId": "6246124678",
        "containerId": "199416058",
        "containerVersionId": "0",
        "container": {
            "path": "accounts/6246124678/containers/199416058",
            "accountId": "6246124678",
            "containerId": "199416058",
            "name": "Test Store sGTM",
            "publicId": "GTM-52QR9J4Q",
            "usageContext": [
                "SERVER"
            ],
            "fingerprint": "1737112978743",
            "tagManagerUrl": "https://tagmanager.google.com/#/container/accounts/6246124678/containers/199416058/workspaces?apiLink=container",
            "features": {
                "supportUserPermissions": true,
                "supportEnvironments": true,
                "supportWorkspaces": true,
                "supportGtagConfigs": false,
                "supportBuiltInVariables": true,
                "supportClients": true,
                "supportFolders": true,
                "supportTags": true,
                "supportTemplates": true,
                "supportTriggers": true,
                "supportVariables": true,
                "supportVersions": true,
                "supportZones": true,
                "supportTransformations": true
            },
            "tagIds": [
                "GTM-52QR9J4Q"
            ],
            "taggingServerUrls": [
                "https://rojmddkd.euq.stape.net"
            ]
        },
        "tag": [
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "tagId": "420",
                "name": "[KBX] Pinterest - search",
                "type": "cvt_199416058_419",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "adStorageConsent",
                        "value": "optional"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventNameStandard",
                        "value": "search"
                    },
                    {
                        "type": "LIST",
                        "key": "customDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - currency}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "value"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - value}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_ids"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - content_ids}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "contents"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - contents}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "order_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - transaction_id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_category"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_category}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_name"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "search_string"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - search_string}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useOptimisticScenario",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "apiAccessToken",
                        "value": "{{const - Pintrest Access Token}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "testMode",
                        "value": "true"
                    },
                    {
                        "type": "LIST",
                        "key": "userDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "client_ip_address"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-real-ip}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "external_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-stape-user-id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - email}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ph"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - phone_number}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ln"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - last_name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "fn"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - first_name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ct"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-geo-city}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "client_user_agent"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{user-agent}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "country"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-geo-country}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "LIST",
                        "key": "serverEventDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "event_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - event_id}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "standard"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "actionSource",
                        "value": "web"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "advertiserId",
                        "value": "{{const - Pintrest Advertiser ID}}"
                    }
                ],
                "fingerprint": "1737724280493",
                "firingTriggerId": [
                    "417"
                ],
                "parentFolderId": "529",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "tagId": "429",
                "name": "[KBX] Pinterest - add_to_cart",
                "type": "cvt_199416058_419",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "adStorageConsent",
                        "value": "optional"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventNameStandard",
                        "value": "add_to_cart"
                    },
                    {
                        "type": "LIST",
                        "key": "customDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - currency}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "value"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - value}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_ids"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - content_ids}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "contents"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - contents}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "order_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - transaction_id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_category"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_category}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_name"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_name}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useOptimisticScenario",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "apiAccessToken",
                        "value": "{{const - Pintrest Access Token}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "testMode",
                        "value": "true"
                    },
                    {
                        "type": "LIST",
                        "key": "userDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "client_ip_address"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-real-ip}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "external_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-stape-user-id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - email}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ph"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - phone_number}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ln"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - last_name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "fn"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - first_name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ct"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-geo-city}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "client_user_agent"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{user-agent}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "country"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-geo-country}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "LIST",
                        "key": "serverEventDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "event_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - event_id}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "standard"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "actionSource",
                        "value": "web"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "advertiserId",
                        "value": "{{const - Pintrest Advertiser ID}}"
                    }
                ],
                "fingerprint": "1737724280483",
                "firingTriggerId": [
                    "428"
                ],
                "parentFolderId": "529",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "tagId": "489",
                "name": "[KBX] Pinterest - view_item",
                "type": "cvt_199416058_419",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "adStorageConsent",
                        "value": "optional"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventNameStandard",
                        "value": "page_visit"
                    },
                    {
                        "type": "LIST",
                        "key": "customDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - currency}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "value"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - value}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_ids"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - content_ids}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "contents"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - contents}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "order_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - transaction_id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_category"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_category}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_name"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_name}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useOptimisticScenario",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "apiAccessToken",
                        "value": "{{const - Pintrest Access Token}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "testMode",
                        "value": "true"
                    },
                    {
                        "type": "LIST",
                        "key": "userDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "client_ip_address"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-real-ip}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "external_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-stape-user-id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - email}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "LIST",
                        "key": "serverEventDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "event_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - event_id}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "standard"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "actionSource",
                        "value": "web"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "advertiserId",
                        "value": "{{const - Pintrest Advertiser ID}}"
                    }
                ],
                "fingerprint": "1737724280493",
                "firingTriggerId": [
                    "427"
                ],
                "parentFolderId": "529",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "tagId": "495",
                "name": "[KBX] Pinterest - page_visit",
                "type": "cvt_199416058_419",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "adStorageConsent",
                        "value": "optional"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventNameStandard",
                        "value": "page_visit"
                    },
                    {
                        "type": "LIST",
                        "key": "customDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - currency}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "value"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - value}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_ids"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - content_ids}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "contents"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - contents}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "order_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - transaction_id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_category"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_category}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_name"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_name}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useOptimisticScenario",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "apiAccessToken",
                        "value": "{{const - Pintrest Access Token}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "testMode",
                        "value": "true"
                    },
                    {
                        "type": "LIST",
                        "key": "userDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "client_ip_address"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-real-ip}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "external_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-stape-user-id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - email}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "LIST",
                        "key": "serverEventDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "event_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - event_id}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "standard"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "actionSource",
                        "value": "web"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "advertiserId",
                        "value": "{{const - Pintrest Advertiser ID}}"
                    }
                ],
                "fingerprint": "1737724280484",
                "firingTriggerId": [
                    "434"
                ],
                "parentFolderId": "529",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "tagId": "508",
                "name": "[KBX] Pinterest - checkout",
                "type": "cvt_199416058_419",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "adStorageConsent",
                        "value": "optional"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventNameStandard",
                        "value": "checkout"
                    },
                    {
                        "type": "LIST",
                        "key": "customDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - currency}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "value"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - value}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_ids"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - content_ids}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "contents"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - contents}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "num_items"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - num_items}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "order_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - transaction_id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_name"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_category"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_category}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_brand"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "Comodo Living"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useOptimisticScenario",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "apiAccessToken",
                        "value": "{{const - Pintrest Access Token}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "testMode",
                        "value": "true"
                    },
                    {
                        "type": "LIST",
                        "key": "userDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "client_ip_address"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-real-ip}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "external_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-stape-user-id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - email}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ph"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - phone_number}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ln"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - last_name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "fn"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - first_name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ct"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-geo-city}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "client_user_agent"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{user-agent}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "country"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-geo-country}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "LIST",
                        "key": "serverEventDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "event_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - event_id}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "standard"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "actionSource",
                        "value": "web"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "advertiserId",
                        "value": "{{const - Pintrest Advertiser ID}}"
                    }
                ],
                "fingerprint": "1737724280484",
                "firingTriggerId": [
                    "455"
                ],
                "parentFolderId": "529",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "tagId": "518",
                "name": "[KBX] Pinterest - view_category",
                "type": "cvt_199416058_419",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "adStorageConsent",
                        "value": "optional"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventNameStandard",
                        "value": "view_category"
                    },
                    {
                        "type": "LIST",
                        "key": "customDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - currency}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "value"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - value}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_ids"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - content_ids}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "contents"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - contents}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "order_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - transaction_id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_category"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_category}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_name"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - item_name}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useOptimisticScenario",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "apiAccessToken",
                        "value": "{{const - Pintrest Access Token}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "testMode",
                        "value": "true"
                    },
                    {
                        "type": "LIST",
                        "key": "userDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "client_ip_address"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-real-ip}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "external_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{x-stape-user-id}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{st lookup - email}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "LIST",
                        "key": "serverEventDataList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "event_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{ed - event_id}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "standard"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "actionSource",
                        "value": "web"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "advertiserId",
                        "value": "{{const - Pintrest Advertiser ID}}"
                    }
                ],
                "fingerprint": "1737724280493",
                "firingTriggerId": [
                    "480"
                ],
                "parentFolderId": "529",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            }
        ],
        "trigger": [
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "triggerId": "417",
                "name": "dc - search",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "search"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Client Name}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Data Client"
                            }
                        ]
                    }
                ],
                "fingerprint": "1737719689093",
                "parentFolderId": "364"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "triggerId": "427",
                "name": "dc - view_item",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "view_item"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Client Name}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Data Client"
                            }
                        ]
                    }
                ],
                "fingerprint": "1737719689114",
                "parentFolderId": "364"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "triggerId": "428",
                "name": "dc - add_to_cart",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "add_to_cart"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Client Name}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Data Client"
                            }
                        ]
                    }
                ],
                "fingerprint": "1737719689114",
                "parentFolderId": "364"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "triggerId": "434",
                "name": "dc - page_view",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "page_view"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Client Name}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Data Client"
                            }
                        ]
                    }
                ],
                "fingerprint": "1737719689115",
                "parentFolderId": "364"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "triggerId": "455",
                "name": "dc - purchase",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "purchase"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Client Name}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Data Client"
                            }
                        ]
                    }
                ],
                "fingerprint": "1737719689164",
                "parentFolderId": "364"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "triggerId": "480",
                "name": "dc - view_item_list",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "view_item_list"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Client Name}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Data Client"
                            }
                        ]
                    }
                ],
                "fingerprint": "1737719689228",
                "parentFolderId": "364"
            }
        ],
        "variable": [
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "362",
                "name": "x-stape-user-id",
                "type": "rh",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "headerName",
                        "value": "x-stape-user-id"
                    }
                ],
                "fingerprint": "1737719689017",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "363",
                "name": "st lookup - last_name",
                "type": "cvt_199416058_360",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "storeResponse",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "lookupType",
                        "value": "document"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "documentId",
                        "value": "{{x-stape-user-id}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "documentPath",
                        "value": "user_data.last_name"
                    }
                ],
                "fingerprint": "1737719689017",
                "parentFolderId": "361",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "373",
                "name": "st lookup - email",
                "type": "cvt_199416058_360",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "storeResponse",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "lookupType",
                        "value": "document"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "documentId",
                        "value": "{{x-stape-user-id}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "documentPath",
                        "value": "user_data.email"
                    }
                ],
                "fingerprint": "1737719689019",
                "parentFolderId": "361",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "381",
                "name": "ed - num_items",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "num_items"
                    }
                ],
                "fingerprint": "1737719689024",
                "parentFolderId": "371",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "383",
                "name": "ed - contents",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "contents"
                    }
                ],
                "fingerprint": "1737719689024",
                "parentFolderId": "371",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "386",
                "name": "ed - event_id",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "event_id"
                    }
                ],
                "fingerprint": "1737719689024",
                "parentFolderId": "371",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "387",
                "name": "ed - currency",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "currency"
                    }
                ],
                "fingerprint": "1737719689025",
                "parentFolderId": "371",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "398",
                "name": "ed - value",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "value"
                    }
                ],
                "fingerprint": "1737719689089",
                "parentFolderId": "371",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "400",
                "name": "ed - content_ids",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "content_ids"
                    }
                ],
                "fingerprint": "1737719689089",
                "parentFolderId": "371",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "406",
                "name": "const - Pintrest Access Token",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "VALUE_HERE"
                    }
                ],
                "fingerprint": "1737724266459",
                "parentFolderId": "529",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "407",
                "name": "ed - item_category",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "item_category"
                    }
                ],
                "fingerprint": "1737719689091",
                "parentFolderId": "371",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "408",
                "name": "ed - transaction_id",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "transaction_id"
                    }
                ],
                "fingerprint": "1737719689092",
                "parentFolderId": "371",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "409",
                "name": "user-agent",
                "type": "rh",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "headerName",
                        "value": "user-agent"
                    }
                ],
                "fingerprint": "1737719689092",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "410",
                "name": "st lookup - phone_number",
                "type": "cvt_199416058_360",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "storeResponse",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "lookupType",
                        "value": "document"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "documentId",
                        "value": "{{x-stape-user-id}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "documentPath",
                        "value": "user_data.phone"
                    }
                ],
                "fingerprint": "1737719689092",
                "parentFolderId": "361",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "411",
                "name": "x-geo-country",
                "type": "rh",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "headerName",
                        "value": "x-geo-country"
                    }
                ],
                "fingerprint": "1737719689092",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "412",
                "name": "x-real-ip",
                "type": "rh",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "headerName",
                        "value": "x-real-ip"
                    }
                ],
                "fingerprint": "1737719689092",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "413",
                "name": "const - Pintrest Advertiser ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "VALUE_HERE"
                    }
                ],
                "fingerprint": "1737724266459",
                "parentFolderId": "529",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "414",
                "name": "ed - item_name",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "item_name"
                    }
                ],
                "fingerprint": "1737719689092",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "415",
                "name": "ed - search_string",
                "type": "ed",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "keyPath",
                        "value": "search_string"
                    }
                ],
                "fingerprint": "1737719689093",
                "parentFolderId": "371",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "416",
                "name": "st lookup - first_name",
                "type": "cvt_199416058_360",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "storeResponse",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "lookupType",
                        "value": "document"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "documentId",
                        "value": "{{x-stape-user-id}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "documentPath",
                        "value": "user_data.first_name"
                    }
                ],
                "fingerprint": "1737719689093",
                "parentFolderId": "361",
                "formatValue": {}
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "variableId": "418",
                "name": "x-geo-city",
                "type": "rh",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "headerName",
                        "value": "x-geo-city"
                    }
                ],
                "fingerprint": "1737719689093",
                "formatValue": {}
            }
        ],
        "folder": [
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "folderId": "361",
                "name": "Stape Store",
                "fingerprint": "1737719689017"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "folderId": "364",
                "name": "[Stape] Triggers",
                "fingerprint": "1737719689017"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "folderId": "371",
                "name": "[Stape] Event Data",
                "fingerprint": "1737719689019"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "folderId": "529",
                "name": "[KBX] Pinterest",
                "fingerprint": "1737724265643"
            }
        ],
        "builtInVariable": [
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "type": "CLIENT_NAME",
                "name": "Client Name"
            }
        ],
        "fingerprint": "1737724329060",
        "tagManagerUrl": "https://tagmanager.google.com/#/versions/accounts/6246124678/containers/199416058/versions/0?apiLink=version",
        "customTemplate": [
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "templateId": "360",
                "name": "Stape Store Lookup",
                "fingerprint": "1737719689015",
                "templateData": "___INFO___\n\n{\n  \"type\": \"MACRO\",\n  \"id\": \"cvt_temp_public_id\",\n  \"version\": 1,\n  \"securityGroups\": [],\n  \"displayName\": \"Stape Store Lookup\",\n  \"description\": \"The value is set to the value from a key in a Stape Store document.\",\n  \"containerContexts\": [\n    \"SERVER\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"lookupType\",\n    \"displayName\": \"Lookup Type\",\n    \"radioItems\": [\n      {\n        \"value\": \"document\",\n        \"displayValue\": \"Document Path\",\n        \"help\": \"Look up a document by specifying the document ID\"\n      },\n      {\n        \"value\": \"query\",\n        \"displayValue\": \"Query\",\n        \"help\": \"Look up a document within a store where the document meets the specified query criteria. If multiple documents are returned from the query, only the first document is used.\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"defaultValue\": \"document\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"documentId\",\n    \"displayName\": \"Document ID\",\n    \"simpleValueType\": true,\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"lookupType\",\n        \"paramValue\": \"document\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"queryGroup\",\n    \"displayName\": \"Query conditions\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"queryConditions\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Field\",\n            \"name\": \"field\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true\n          },\n          {\n            \"defaultValue\": \"equal\",\n            \"displayName\": \"Comparison Operator\",\n            \"name\": \"operator\",\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"equal\",\n                \"displayValue\": \"\\u003d\\u003d\"\n              },\n              {\n                \"value\": \"not-equal\",\n                \"displayValue\": \"!\\u003d\"\n              },\n              {\n                \"value\": \"lt\",\n                \"displayValue\": \"Less\"\n              },\n              {\n                \"value\": \"lte\",\n                \"displayValue\": \"Less or equal\"\n              },\n              {\n                \"value\": \"gt\",\n                \"displayValue\": \"Greater\"\n              },\n              {\n                \"value\": \"gte\",\n                \"displayValue\": \"Greater or equal\"\n              },\n              {\n                \"value\": \"contains\",\n                \"displayValue\": \"Contains\"\n              },\n              {\n                \"value\": \"not-contains\",\n                \"displayValue\": \"Not Contains\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"help\": \"\\u003ca href\\u003d\\\"https://postgrest.org/en/stable/references/api/tables_views.html#horizontal-filtering\\\"\\u003eRead more\\u003c/a\\u003e\"\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"lookupType\",\n        \"paramValue\": \"query\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"settings\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"documentPath\",\n        \"displayName\": \"Key Path\",\n        \"simpleValueType\": true,\n        \"help\": \"The path to the desired field within the specified document.\\n\\u003cbr\\u003e\\u003cbr\\u003e\\nFor example, if the specified document is {key1: \\u0027value1\\u0027}, then a Key Path of key1 will return value1.\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"storeResponse\",\n        \"checkboxText\": \"Store the result in cache\",\n        \"simpleValueType\": true,\n        \"help\": \"Store the query result in Template Storage. If the query parameters match an existing cache, the result will be retrieved from there.\"\n      }\n    ],\n    \"displayName\": \"More Settings\"\n  },\n  {\n    \"displayName\": \"Logs Settings\",\n    \"name\": \"logsGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"type\": \"RADIO\",\n        \"name\": \"logType\",\n        \"radioItems\": [\n          {\n            \"value\": \"no\",\n            \"displayValue\": \"Do not log\"\n          },\n          {\n            \"value\": \"debug\",\n            \"displayValue\": \"Log to console during debug and preview\"\n          },\n          {\n            \"value\": \"always\",\n            \"displayValue\": \"Always log to console\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"defaultValue\": \"debug\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_SERVER___\n\nconst sendHttpRequest = require('sendHttpRequest');\nconst encodeUriComponent = require('encodeUriComponent');\nconst JSON = require('JSON');\nconst templateDataStorage = require('templateDataStorage');\nconst Promise = require('Promise');\nconst sha256Sync = require('sha256Sync');\nconst logToConsole = require('logToConsole');\nconst getRequestHeader = require('getRequestHeader');\nconst getContainerVersion = require('getContainerVersion');\n\nconst isLoggingEnabled = determinateIsLoggingEnabled();\nconst traceId = isLoggingEnabled ? getRequestHeader('trace-id') : undefined;\n\nreturn getResponseBody().then(mapResponse);\n\nfunction getOptions() {\n  return {method: 'POST', headers: { 'Content-Type': 'application/json' }};\n}\n\nfunction mapResponse(bodyString) {\n  const body = JSON.parse(bodyString);\n  let document = body && body.length > 0 ? body[0] : {};\n  document = document.data || {};\n\n  if (!data.documentPath) return document;\n\n  const keys = data.documentPath.trim().split('.');\n  let value = document;\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (!value || !key) break;\n    value = value[key];\n  }\n\n  return value;\n}\n\nfunction getPostBody() {\n  if (data.lookupType === 'document') {\n    return {\n      key: data.documentId,\n      limit: 1\n    };\n  }\n\n  let filters = [];\n\n  for (let i = 0; i < data.queryConditions.length; i++) {\n    const condition = data.queryConditions[i];\n\n    filters.push([\n      condition.field,\n      condition.operator,\n      condition.value\n    ]);\n  }\n\n  return {\n    data: filters,\n    limit: 1\n  };\n}\n\nfunction getResponseBody() {\n  const url = getStoreUrl();\n  const options = getOptions();\n  const postBody = getPostBody();\n  const cacheKey = data.storeResponse ? sha256Sync(url + JSON.stringify(postBody)) : '';\n\n  if (data.storeResponse) {\n    const cachedValue = templateDataStorage.getItemCopy(cacheKey);\n    if (cachedValue) return Promise.create((resolve) => resolve(cachedValue));\n  }\n\n  if (isLoggingEnabled) {\n    logToConsole(\n      JSON.stringify({\n        Name: 'StapeStore',\n        Type: 'Request',\n        TraceId: traceId,\n        EventName: 'StoreRead',\n        RequestMethod: options.method,\n        RequestUrl: url,\n        RequestBody: postBody,\n      })\n    );\n  }\n  return sendHttpRequest(url, options, JSON.stringify(postBody)).then((response) => {\n    if (isLoggingEnabled) {\n      logToConsole(\n        JSON.stringify({\n          Name: 'StapeStore',\n          Type: 'Response',\n          TraceId: traceId,\n          EventName: 'StoreRead',\n          ResponseStatusCode: response.statusCode,\n          ResponseHeaders: response.headers,\n          ResponseBody: response.body,\n        })\n      );\n    }\n\n    if (data.storeResponse) templateDataStorage.setItemCopy(cacheKey, response.body);\n\n    return response.body;\n  });\n}\n\nfunction getStoreUrl() {\n  const containerIdentifier = getRequestHeader('x-gtm-identifier');\n  const defaultDomain = getRequestHeader('x-gtm-default-domain');\n  const containerApiKey = getRequestHeader('x-gtm-api-key');\n\n  return (\n    'https://' +\n    enc(containerIdentifier) +\n    '.' +\n    enc(defaultDomain) +\n    '/stape-api/' +\n    enc(containerApiKey) +\n    '/v1/store'\n  );\n}\n\nfunction determinateIsLoggingEnabled() {\n  const containerVersion = getContainerVersion();\n  const isDebug = !!(containerVersion && (containerVersion.debugMode || containerVersion.previewMode));\n\n  if (!data.logType) {\n    return isDebug;\n  }\n\n  if (data.logType === 'no') {\n    return false;\n  }\n\n  if (data.logType === 'debug') {\n    return isDebug;\n  }\n\n  return data.logType === 'always';\n}\n\nfunction enc(data) {\n  data = data || '';\n  return encodeUriComponent(data);\n}\n\n\n___SERVER_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"send_http\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedUrls\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_template_storage\",\n        \"versionId\": \"1\"\n      },\n      \"param\": []\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_request\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"headerWhitelist\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"headerName\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"trace-id\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"headerName\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"x-gtm-identifier\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"headerName\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"x-gtm-default-domain\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"headerName\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"x-gtm-api-key\"\n                  }\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"key\": \"headersAllowed\",\n          \"value\": {\n            \"type\": 8,\n            \"boolean\": true\n          }\n        },\n        {\n          \"key\": \"requestAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"headerAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"queryParameterAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"all\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_container_data\",\n        \"versionId\": \"1\"\n      },\n      \"param\": []\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios: []\n\n\n___NOTES___\n\nCreated on 24/01/2024, 14:06:55\n\n\n"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "templateId": "419",
                "name": "Pinterest Conversion API",
                "fingerprint": "1737719689093",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_temp_public_id\",\n  \"version\": 1,\n  \"securityGroups\": [],\n  \"displayName\": \"Pinterest Conversion API\",\n  \"categories\": [\n    \"ADVERTISING\",\n    \"ANALYTICS\",\n    \"CONVERSIONS\",\n    \"MARKETING\",\n    \"REMARKETING\"\n  ],\n  \"brand\": {\n    \"id\": \"brand_dummy\",\n    \"displayName\": \"Stape\",\n    \"thumbnail\": \"data:image/png;base64,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\"\n  },\n  \"description\": \"Tag that send the event data from the Universal Analytics/GA4/Data client to Pinterest Conversion API.\",\n  \"containerContexts\": [\n    \"SERVER\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"eventType\",\n    \"radioItems\": [\n      {\n        \"value\": \"standard\",\n        \"displayValue\": \"Standard\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"eventNameStandard\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"value\": \"page_visit\",\n                \"displayValue\": \"page_visit\"\n              },\n              {\n                \"value\": \"add_to_cart\",\n                \"displayValue\": \"add_to_cart\"\n              },\n              {\n                \"value\": \"checkout\",\n                \"displayValue\": \"checkout\"\n              },\n              {\n                \"value\": \"lead\",\n                \"displayValue\": \"lead\"\n              },\n              {\n                \"value\": \"search\",\n                \"displayValue\": \"search\"\n              },\n              {\n                \"value\": \"signup\",\n                \"displayValue\": \"signup\"\n              },\n              {\n                \"value\": \"view_category\",\n                \"displayValue\": \"view_category\"\n              },\n              {\n                \"value\": \"\",\n                \"displayValue\": \"watch_video\"\n              },\n              {\n                \"value\": \"\",\n                \"displayValue\": \"\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"defaultValue\": \"page_visit\"\n          }\n        ]\n      },\n      {\n        \"value\": \"inherit\",\n        \"subParams\": [],\n        \"displayValue\": \"Inherit from client\"\n      },\n      {\n        \"value\": \"custom\",\n        \"displayValue\": \"Custom\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"eventNameCustom\",\n            \"simpleValueType\": true\n          }\n        ]\n      }\n    ],\n    \"simpleValueType\": true,\n    \"displayName\": \"Event Name Setup Method\",\n    \"defaultValue\": \"standard\"\n  },\n  {\n    \"type\": \"SELECT\",\n    \"name\": \"actionSource\",\n    \"displayName\": \"Action Source\",\n    \"selectItems\": [\n      {\n        \"value\": \"web\",\n        \"displayValue\": \"Web\"\n      },\n      {\n        \"value\": \"offline\",\n        \"displayValue\": \"Offline\"\n      },\n      {\n        \"value\": \"app_ios\",\n        \"displayValue\": \"App iOS\"\n      },\n      {\n        \"value\": \"app_android\",\n        \"displayValue\": \"App Android\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"defaultValue\": \"web\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"advertiserId\",\n    \"displayName\": \"Pinterest Advertiser ID\",\n    \"simpleValueType\": true,\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      },\n      {\n        \"type\": \"REGEX\",\n        \"args\": [\n          \"549\\\\d{9}\"\n        ],\n        \"errorMessage\": \"This value should match 549XXXXXXXXX\"\n      }\n    ],\n    \"help\": \"You can find it by logging to the Pinterest account that owns your advertiser account, then go to \\\"ads.pinterest.com\\\". In the top navigation section, click on \\\"Viewing: \\\" and the advertiser id will be the number underneath the ad account name in the drop down menu. If your Pinterest account has multiple ad accounts, make sure you are choosing the proper one that you want to use for owning your API conversion events. Another way to confirm your advertiser id is to navigate to Ads \\u003e Overview and look for the id in the URL path. It will look like: \\\"ads.pinterest.com/advertiser/ADVERTISER_ID/?...\\\".\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"apiAccessToken\",\n    \"displayName\": \"API Access Token\",\n    \"simpleValueType\": true,\n    \"help\": \"To use the Pinterest Conversions API, you need an access token.\",\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      }\n    ]\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"testMode\",\n    \"checkboxText\": \"Test Mode\",\n    \"simpleValueType\": true,\n    \"help\": \"The events will not be recorded but the API will still return the same response messages. Use this mode to verify your requests are working and your events are constructed correctly.\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"useOptimisticScenario\",\n    \"checkboxText\": \"Use Optimistic Scenario\",\n    \"simpleValueType\": true,\n    \"help\": \"The tag will call gtmOnSuccess() without waiting for a response from the API. This will speed up sGTM response time however your tag will always return the status fired successfully even in case it is not.\"\n  },\n  {\n    \"displayName\": \"Server Event Data Override\",\n    \"name\": \"serverEventDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"name\": \"serverEventDataList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"defaultValue\": \"event_id\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"event_time\",\n                \"displayValue\": \"Event Time\"\n              },\n              {\n                \"value\": \"event_source_url\",\n                \"displayValue\": \"Source URL\"\n              },\n              {\n                \"value\": \"opt_out\",\n                \"displayValue\": \"Opt Out\"\n              },\n              {\n                \"value\": \"event_id\",\n                \"displayValue\": \"Event ID\"\n              },\n              {\n                \"value\": \"app_id\",\n                \"displayValue\": \"App id\"\n              },\n              {\n                \"value\": \"app_name\",\n                \"displayValue\": \"App name\"\n              },\n              {\n                \"value\": \"app_version\",\n                \"displayValue\": \"App version\"\n              },\n              {\n                \"value\": \"device_brand\",\n                \"displayValue\": \"Device brand\"\n              },\n              {\n                \"value\": \"device_carrier\",\n                \"displayValue\": \"Device carrier\"\n              },\n              {\n                \"value\": \"device_model\",\n                \"displayValue\": \"Device model\"\n              },\n              {\n                \"value\": \"device_type\",\n                \"displayValue\": \"Device type\"\n              },\n              {\n                \"value\": \"os_version\",\n                \"displayValue\": \"OS version\"\n              },\n              {\n                \"value\": \"wifi\",\n                \"displayValue\": \"WiFi\"\n              },\n              {\n                \"value\": \"language\",\n                \"displayValue\": \"language\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add property\"\n      }\n    ],\n    \"help\": \"See \\u003ca href\\u003d\\\"https://s.pinimg.com/ct/docs/conversions_api/dist/v3.html\\\" target\\u003d\\\"_blank\\\"\\u003ethis documentation\\u003c/a\\u003e for more details on what data parameters you can override.\"\n  },\n  {\n    \"displayName\": \"User Data\",\n    \"name\": \"userDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"name\": \"userDataList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"defaultValue\": \"em\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"em\",\n                \"displayValue\": \"Email\"\n              },\n              {\n                \"value\": \"ph\",\n                \"displayValue\": \"Phone\"\n              },\n              {\n                \"value\": \"ge\",\n                \"displayValue\": \"Gender\"\n              },\n              {\n                \"value\": \"db\",\n                \"displayValue\": \"Date of Birth\"\n              },\n              {\n                \"value\": \"ln\",\n                \"displayValue\": \"Last Name\"\n              },\n              {\n                \"value\": \"fn\",\n                \"displayValue\": \"First Name\"\n              },\n              {\n                \"value\": \"ct\",\n                \"displayValue\": \"City\"\n              },\n              {\n                \"value\": \"st\",\n                \"displayValue\": \"State\"\n              },\n              {\n                \"value\": \"zp\",\n                \"displayValue\": \"Zip\"\n              },\n              {\n                \"value\": \"country\",\n                \"displayValue\": \"Country\"\n              },\n              {\n                \"value\": \"hashed_maids\",\n                \"displayValue\": \"maids\"\n              },\n              {\n                \"value\": \"client_ip_address\",\n                \"displayValue\": \"Client IP address\"\n              },\n              {\n                \"value\": \"client_user_agent\",\n                \"displayValue\": \"Client user agent\"\n              },\n              {\n                \"value\": \"external_id\",\n                \"displayValue\": \"External ID\"\n              },\n              {\n                \"value\": \"click_id\",\n                \"displayValue\": \"Click ID\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add property\"\n      }\n    ],\n    \"help\": \"See \\u003ca href\\u003d\\\"https://s.pinimg.com/ct/docs/conversions_api/dist/v3.html\\\" target\\u003d\\\"_blank\\\"\\u003ethis documentation\\u003c/a\\u003e for more details on what user data parameters you can add to the call. If the documentation requires the parameter to be hashed, you \\u003cstrong\\u003emust\\u003c/strong\\u003e hash it with SHA256, or the tag will do this automatically before sending the event to Pinterest.\"\n  },\n  {\n    \"displayName\": \"Custom Data\",\n    \"name\": \"customDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"name\": \"customDataList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"defaultValue\": \"currency\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"currency\",\n                \"displayValue\": \"Currency\"\n              },\n              {\n                \"value\": \"value\",\n                \"displayValue\": \"Value\"\n              },\n              {\n                \"value\": \"content_ids\",\n                \"displayValue\": \"Content IDs\"\n              },\n              {\n                \"value\": \"contents\",\n                \"displayValue\": \"Contents\"\n              },\n              {\n                \"value\": \"num_items\",\n                \"displayValue\": \"Num Items\"\n              },\n              {\n                \"value\": \"order_id\",\n                \"displayValue\": \"Order ID\"\n              },\n              {\n                \"value\": \"search_string\",\n                \"displayValue\": \"Search string\"\n              },\n              {\n                \"value\": \"opt_out_type\",\n                \"displayValue\": \"Opt Out Type\"\n              },\n              {\n                \"value\": \"content_name\",\n                \"displayValue\": \"Content Name\"\n              },\n              {\n                \"value\": \"content_category\",\n                \"displayValue\": \"Content Category\"\n              },\n              {\n                \"value\": \"content_brand\",\n                \"displayValue\": \"Content Brand\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\"\n      }\n    ],\n    \"help\": \"See \\u003ca href\\u003d\\\"https://s.pinimg.com/ct/docs/conversions_api/dist/v3.html\\\" target\\u003d\\\"_blank\\\"\\u003ethis documentation\\u003c/a\\u003e for more details on what data parameters you can add to the call.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"consentSettingsGroup\",\n    \"displayName\": \"Consent Settings\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"RADIO\",\n        \"name\": \"adStorageConsent\",\n        \"displayName\": \"\",\n        \"radioItems\": [\n          {\n            \"value\": \"optional\",\n            \"displayValue\": \"Send data always\"\n          },\n          {\n            \"value\": \"required\",\n            \"displayValue\": \"Send data in case marketing consent given\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"defaultValue\": \"optional\"\n      }\n    ]\n  },\n  {\n    \"displayName\": \"Logs Settings\",\n    \"name\": \"logsGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"type\": \"RADIO\",\n        \"name\": \"logType\",\n        \"radioItems\": [\n          {\n            \"value\": \"no\",\n            \"displayValue\": \"Do not log\"\n          },\n          {\n            \"value\": \"debug\",\n            \"displayValue\": \"Log to console during debug and preview\"\n          },\n          {\n            \"value\": \"always\",\n            \"displayValue\": \"Always log to console\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"defaultValue\": \"debug\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_SERVER___\n\nconst getAllEventData = require('getAllEventData');\nconst JSON = require('JSON');\nconst Math = require('Math');\nconst sendHttpRequest = require('sendHttpRequest');\nconst getTimestampMillis = require('getTimestampMillis');\nconst getContainerVersion = require('getContainerVersion');\nconst logToConsole = require('logToConsole');\nconst sha256Sync = require('sha256Sync');\nconst getRequestHeader = require('getRequestHeader');\nconst getType = require('getType');\nconst makeString = require('makeString');\nconst makeInteger = require('makeInteger');\nconst getRequestQueryParameter = require('getRequestQueryParameter');\nconst setCookie = require('setCookie');\nconst getCookieValues = require('getCookieValues');\n\nconst isLoggingEnabled = determinateIsLoggingEnabled();\nconst traceId = isLoggingEnabled ? getRequestHeader('trace-id') : undefined;\n\nconst eventData = getAllEventData();\n\nif (!isConsentGivenOrNotRequired()) {\n  return data.gtmOnSuccess();\n}\n\nconst commonCookie = eventData.common_cookie || {};\n\nlet postUrl =\n  'https://api.pinterest.com/v5/ad_accounts/' + data.advertiserId + '/events';\nsetClickIdCookieIfNeeded();\nconst mappedEventData = mapEvent(eventData, data);\nconst postBody = { data: [mappedEventData] };\n\nif (data.testMode) {\n  postUrl = postUrl + '?test=true';\n}\n\nif (isLoggingEnabled) {\n  logToConsole(\n    JSON.stringify({\n      Name: 'Pinterest',\n      Type: 'Request',\n      TraceId: traceId,\n      EventName: mappedEventData.event_name,\n      RequestMethod: 'POST',\n      RequestUrl: postUrl,\n      RequestBody: postBody,\n    })\n  );\n}\n\nsendHttpRequest(\n  postUrl,\n  (statusCode, headers, body) => {\n    if (isLoggingEnabled) {\n      logToConsole(\n        JSON.stringify({\n          Name: 'Pinterest',\n          Type: 'Response',\n          TraceId: traceId,\n          EventName: mappedEventData.event_name,\n          ResponseStatusCode: statusCode,\n          ResponseHeaders: headers,\n          ResponseBody: body,\n        })\n      );\n    }\n\n    if (!data.useOptimisticScenario) {\n      if (statusCode >= 200 && statusCode < 300) {\n        data.gtmOnSuccess();\n      } else {\n        data.gtmOnFailure();\n      }\n    }\n  },\n  {\n    headers: {\n      'content-type': 'application/json',\n      Authorization: 'Bearer ' + data.apiAccessToken,\n    },\n    method: 'POST',\n  },\n  JSON.stringify(postBody)\n);\n\nif (data.useOptimisticScenario) {\n  data.gtmOnSuccess();\n}\nfunction getEventName(eventData, data) {\n  if (data.eventType === 'inherit') {\n    let eventName = eventData.event_name;\n\n    let gaToEventName = {\n      page_view: 'page_visit',\n      'gtm.dom': 'page_visit',\n      add_payment_info: 'custom',\n      add_to_cart: 'add_to_cart',\n      add_to_wishlist: 'custom',\n      sign_up: 'signup',\n      begin_checkout: 'custom',\n      generate_lead: 'lead',\n      purchase: 'checkout',\n      search: 'search',\n      view_item_list: 'view_category',\n      view_item: 'custom',\n\n      contact: 'lead',\n      customize_product: 'custom',\n      donate: 'custom',\n      find_location: 'search',\n      schedule: 'custom',\n      start_trial: 'custom',\n      submit_application: 'lead',\n      subscribe: 'custom',\n\n      'gtm4wp.addProductToCartEEC': 'add_to_cart',\n      'gtm4wp.productClickEEC': 'custom',\n      'gtm4wp.checkoutOptionEEC': 'checkout',\n      'gtm4wp.checkoutStepEEC': 'custom',\n      'gtm4wp.orderCompletedEEC': 'checkout',\n    };\n\n    if (!gaToEventName[eventName]) {\n      return eventName;\n    }\n\n    return gaToEventName[eventName];\n  }\n\n  return data.eventType === 'standard'\n    ? data.eventNameStandard\n    : data.eventNameCustom;\n}\n\nfunction mapEvent(eventData, data) {\n  let eventName = getEventName(eventData, data);\n\n  let mappedData = {\n    event_name: eventName,\n    action_source: data.actionSource || 'web',\n    partner_name: 'ss-stape',\n    event_time: Math.round(getTimestampMillis() / 1000),\n    custom_data: {\n      np: 'ss-stape',\n    },\n    user_data: {},\n  };\n\n  if (mappedData.action_source === 'web') {\n    mappedData.event_source_url = eventData.page_location;\n    mappedData.user_data = {\n      client_ip_address: eventData.ip_override,\n      client_user_agent: eventData.user_agent,\n    };\n  }\n\n  mappedData = addServerEventData(eventData, data, mappedData);\n  mappedData = addUserData(eventData, mappedData);\n  mappedData = addEcommerceData(eventData, mappedData);\n  mappedData = overrideDataIfNeeded(data, mappedData);\n  mappedData = fixValueTypes(mappedData);\n  mappedData = cleanupData(mappedData);\n  mappedData = hashDataIfNeeded(mappedData);\n\n  return mappedData;\n}\n\nfunction isHashed(value) {\n  if (!value) {\n    return false;\n  }\n\n  return makeString(value).match('^[A-Fa-f0-9]{64}$') !== null;\n}\n\nfunction hashData(key, value) {\n  if (!value) {\n    return value;\n  }\n\n  const type = getType(value);\n\n  if (type === 'undefined' || value === 'undefined') {\n    return undefined;\n  }\n\n  if (type === 'object') {\n    return value.map((val) => {\n      return hashData(key, val);\n    });\n  }\n\n  if (isHashed(value)) {\n    return value;\n  }\n\n  value = makeString(value).trim().toLowerCase();\n\n  if (key === 'ph') {\n    value = value\n      .split(' ')\n      .join('')\n      .split('-')\n      .join('')\n      .split('(')\n      .join('')\n      .split(')')\n      .join('')\n      .split('+')\n      .join('');\n  } else if (key === 'ct') {\n    value = value.split(' ').join('');\n  }\n\n  return sha256Sync(value, { outputEncoding: 'hex' });\n}\n\nfunction hashDataIfNeeded(mappedData) {\n  if (mappedData.user_data) {\n    for (let key in mappedData.user_data) {\n      if (\n        key === 'em' ||\n        key === 'ph' ||\n        key === 'ge' ||\n        key === 'db' ||\n        key === 'ln' ||\n        key === 'fn' ||\n        key === 'ct' ||\n        key === 'st' ||\n        key === 'zp' ||\n        key === 'country' ||\n        key === 'hashed_maids' ||\n        key === 'external_id'\n      ) {\n        let hashedValue = hashData(key, mappedData.user_data[key]);\n        let type = getType(hashedValue);\n\n        if (type !== 'undefined' && hashedValue !== 'undefined') {\n          if (type !== 'object' && type !== 'array') {\n            hashedValue = [hashedValue];\n          }\n\n          mappedData.user_data[key] = hashedValue;\n        }\n      }\n    }\n  }\n\n  return mappedData;\n}\n\nfunction overrideDataIfNeeded(data, mappedData) {\n  if (data.userDataList) {\n    data.userDataList.forEach((d) => {\n      mappedData.user_data[d.name] = d.value;\n    });\n  }\n\n  if (data.customDataList) {\n    data.customDataList.forEach((d) => {\n      mappedData.custom_data[d.name] = d.value;\n    });\n  }\n  if (data.serverEventDataList) {\n    data.serverEventDataList.forEach((d) => {\n      mappedData[d.name] = d.value;\n    });\n  }\n\n  return mappedData;\n}\n\nfunction cleanupData(mappedData) {\n  if (mappedData.user_data) {\n    let userData = {};\n\n    for (let userDataKey in mappedData.user_data) {\n      if (mappedData.user_data[userDataKey]) {\n        userData[userDataKey] = mappedData.user_data[userDataKey];\n      }\n    }\n\n    mappedData.user_data = userData;\n  }\n\n  if (mappedData.custom_data) {\n    let customData = {};\n\n    for (let customDataKey in mappedData.custom_data) {\n      if (mappedData.custom_data[customDataKey] || customDataKey === 'value') {\n        customData[customDataKey] = mappedData.custom_data[customDataKey];\n      }\n    }\n\n    mappedData.custom_data = customData;\n  }\n\n  return mappedData;\n}\n\nfunction addEcommerceData(eventData, mappedData) {\n  let currencyFromItems = '';\n  let valueFromItems = 0;\n  let numItems = 0;\n  let contentIds = [];\n\n  if (eventData.items && eventData.items[0]) {\n    mappedData.custom_data.contents = [];\n    currencyFromItems = eventData.items[0].currency;\n\n    eventData.items.forEach((d, i) => {\n      let content = {};\n\n      if (d.item_id) contentIds.push(d.item_id);\n      if (d.quantity) {\n        content.quantity = makeInteger(d.quantity);\n        numItems += makeInteger(d.quantity);\n      }\n\n      if (d.price) {\n        content.item_price = makeString(d.price);\n        valueFromItems += d.quantity ? d.quantity * d.price : d.price;\n      }\n\n      mappedData.custom_data.contents[i] = content;\n    });\n  }\n\n  if (eventData['x-ga-mp1-ev'])\n    mappedData.custom_data.value = eventData['x-ga-mp1-ev'];\n  else if (eventData['x-ga-mp1-tr'])\n    mappedData.custom_data.value = eventData['x-ga-mp1-tr'];\n  else if (eventData.value)\n    mappedData.custom_data.value = makeString(eventData.value);\n  else if (valueFromItems)\n    mappedData.custom_data.value = makeString(valueFromItems);\n\n  if (eventData.currency) mappedData.custom_data.currency = eventData.currency;\n  else if (currencyFromItems)\n    mappedData.custom_data.currency = currencyFromItems;\n\n  if (contentIds.length) mappedData.custom_data.content_ids = contentIds;\n  if (numItems) mappedData.custom_data.num_items = makeInteger(numItems);\n\n  if (eventData.search_term)\n    mappedData.custom_data.search_string = eventData.search_term;\n  if (eventData.transaction_id)\n    mappedData.custom_data.order_id = eventData.transaction_id;\n\n  if (eventData.opt_out_type)\n    mappedData.custom_data.opt_out_type = eventData.opt_out_type;\n  if (eventData.content_name)\n    mappedData.custom_data.content_name = eventData.content_name;\n  if (eventData.content_category)\n    mappedData.custom_data.content_category = eventData.content_category;\n  if (eventData.content_brand)\n    mappedData.custom_data.content_brand = eventData.content_brand;\n  return mappedData;\n}\n\nfunction addUserData(eventData, mappedData) {\n  let address = {};\n  let user_data = {};\n  if (getType(eventData.user_data) === 'object') {\n    user_data = eventData.user_data;\n    const addressType = getType(user_data.address);\n    if (addressType === 'object' || addressType === 'array') {\n      address = user_data.address[0] || user_data.address;\n    }\n  }\n\n  if (eventData.external_id)\n    mappedData.user_data.external_id = eventData.external_id;\n  else if (eventData.user_id)\n    mappedData.user_data.external_id = eventData.user_id;\n  else if (eventData.userId)\n    mappedData.user_data.external_id = eventData.userId;\n\n  if (eventData.lastName) mappedData.user_data.ln = eventData.lastName;\n  else if (eventData.LastName) mappedData.user_data.ln = eventData.LastName;\n  else if (eventData.nameLast) mappedData.user_data.ln = eventData.nameLast;\n  else if (eventData.last_name) mappedData.user_data.ln = eventData.last_name;\n  else if (user_data.last_name) mappedData.user_data.ln = user_data.last_name;\n  else if (address.last_name) mappedData.user_data.ln = address.last_name;\n\n  if (eventData.firstName) mappedData.user_data.fn = eventData.firstName;\n  else if (eventData.FirstName) mappedData.user_data.fn = eventData.FirstName;\n  else if (eventData.nameFirst) mappedData.user_data.fn = eventData.nameFirst;\n  else if (eventData.first_name) mappedData.user_data.fn = eventData.first_name;\n  else if (user_data.first_name) mappedData.user_data.fn = user_data.first_name;\n  else if (address.first_name) mappedData.user_data.fn = address.first_name;\n\n  if (eventData.email) mappedData.user_data.em = eventData.email;\n  else if (user_data.email_address)\n    mappedData.user_data.em = user_data.email_address;\n  else if (user_data.email) mappedData.user_data.em = user_data.email;\n\n  if (eventData.phone) mappedData.user_data.ph = eventData.phone;\n  else if (user_data.phone_number)\n    mappedData.user_data.ph = user_data.phone_number;\n\n  if (eventData.city) mappedData.user_data.ct = eventData.city;\n  else if (address.city) mappedData.user_data.ct = address.city;\n\n  if (eventData.state) mappedData.user_data.st = eventData.state;\n  else if (eventData.region) mappedData.user_data.st = eventData.region;\n  else if (user_data.region) mappedData.user_data.st = user_data.region;\n  else if (address.region) mappedData.user_data.st = address.region;\n\n  if (eventData.zip) mappedData.user_data.zp = eventData.zip;\n  else if (eventData.postal_code)\n    mappedData.user_data.zp = eventData.postal_code;\n  else if (user_data.postal_code)\n    mappedData.user_data.zp = user_data.postal_code;\n  else if (address.postal_code) mappedData.user_data.zp = address.postal_code;\n\n  if (eventData.countryCode)\n    mappedData.user_data.country = eventData.countryCode;\n  else if (eventData.country) mappedData.user_data.country = eventData.country;\n  else if (user_data.country) mappedData.user_data.country = user_data.country;\n  else if (address.country) mappedData.user_data.country = address.country;\n\n  if (eventData.gender) mappedData.user_data.ge = eventData.gender;\n  if (eventData.db) mappedData.user_data.db = eventData.db;\n  if (eventData.hashed_maids)\n    mappedData.user_data.hashed_maids = eventData.hashed_maids;\n  const click_id =\n    getCookieValues('_epik')[0] ||\n    commonCookie._epik ||\n    eventData.click_id ||\n    '';\n  if (click_id) mappedData.user_data.click_id = click_id;\n\n  return mappedData;\n}\n\nfunction addServerEventData(eventData, data, mappedData) {\n  if (eventData.event_id) mappedData.event_id = eventData.event_id;\n  else if (eventData.transaction_id)\n    mappedData.event_id = eventData.transaction_id;\n\n  return mappedData;\n}\n\nfunction determinateIsLoggingEnabled() {\n  const containerVersion = getContainerVersion();\n  const isDebug = !!(\n    containerVersion &&\n    (containerVersion.debugMode || containerVersion.previewMode)\n  );\n\n  if (!data.logType) {\n    return isDebug;\n  }\n\n  if (data.logType === 'no') {\n    return false;\n  }\n\n  if (data.logType === 'debug') {\n    return isDebug;\n  }\n\n  return data.logType === 'always';\n}\n\nfunction setClickIdCookieIfNeeded() {\n  const click_id = getRequestQueryParameter('epik');\n  if (click_id) {\n    setCookie('_epik', click_id, {\n      domain: 'auto',\n      path: '/',\n      secure: true,\n      httpOnly: true,\n      'max-age': 31536000, // 1 year\n    });\n  }\n}\n\nfunction fixValueTypes(mappedData) {\n  const valueType = getType(mappedData.custom_data.value);\n  if (valueType === 'number') {\n    mappedData.custom_data.value = makeString(mappedData.custom_data.value);\n  }\n  if (mappedData.custom_data.contents) {\n    mappedData.custom_data.contents.forEach((content) => {\n      if (getType(content.item_price) === 'number') {\n        content.item_price = makeString(content.item_price);\n      }\n    });\n  }\n  return mappedData;\n}\n\nfunction isConsentGivenOrNotRequired() {\n  if (data.adStorageConsent !== 'required') return true;\n  if (eventData.consent_state) return !!eventData.consent_state.ad_storage;\n  const xGaGcs = eventData['x-ga-gcs'] || ''; // x-ga-gcs is a string like \"G110\"\n  return xGaGcs[2] === '1';\n}\n\n\n___SERVER_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_event_data\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"eventDataAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"send_http\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedUrls\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://api.pinterest.com/\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"all\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_container_data\",\n        \"versionId\": \"1\"\n      },\n      \"param\": []\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_request\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"headerWhitelist\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"headerName\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"trace-id\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"headerName\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"x-ga-gcs\"\n                  }\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"key\": \"queryParametersAllowed\",\n          \"value\": {\n            \"type\": 8,\n            \"boolean\": true\n          }\n        },\n        {\n          \"key\": \"headersAllowed\",\n          \"value\": {\n            \"type\": 8,\n            \"boolean\": true\n          }\n        },\n        {\n          \"key\": \"queryParameterAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"requestAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"queryParameterWhitelist\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"queryParameter\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"epik\"\n                  }\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"key\": \"headerAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"cookieAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"cookieNames\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"_epik\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"set_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedCookies\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_epik\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: UI Check\n  code: |-\n    const mockData = {};\n    let actualSuccessCallback, httpBody;\n\n    mock('sendHttpRequest', (postUrl, response, options, body) => {\n        actualSuccessCallback = response;\n        httpBody = body;\n        actualSuccessCallback(200, {}, '');\n    });\n\n    runCode(mockData);\nsetup: ''\n\n\n___NOTES___\n\nCreated on 18/07/2022, 19:04:12\n\n\n"
            },
            {
                "accountId": "6246124678",
                "containerId": "199416058",
                "templateId": "443",
                "name": "Pinterest API for Conversions Tag",
                "fingerprint": "1737719689131",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"ss_pntr\",\n  \"version\": 1,\n  \"securityGroups\": [],\n  \"displayName\": \"Pinterest API for Conversions Tag\",\n  \"categories\": [\n    \"CONVERSIONS\",\n    \"TAG_MANAGEMENT\"\n  ],\n  \"brand\": {\n    \"thumbnail\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAC4jAAAuIwF4pT92AAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAADJ1JREFUeNrUW3l0lNUVv8kkk50sJJOQZJJ8mRm+LCACBVrRHsSqFRW3goJSDorIpmKxciqKohULRW0PWhCheOyhKoK14FZ7BDLzzf4mBEI2skAgGoQkQCYhQJZf/5gvZCHzzZssQL9z7n8z7937e+/e+3v3vkdMEGmIJYMJ4gwmiH9kgvgZE0QbE8RKJoinmSA2ylLHBLGKCaKDCeIuJohrmCDOYoJoGGr9hmrgibLBLiaIGKAcZIK4jgnizdc7ADFMEH8nrzCGSPKZIP6BCWLi9QRAGBPEl5gg1g+h4b2lSXaTmGsNwONMEGuuouG9pY4J4pJrAUAGE8Tvr6HhvcXGBDHnagEwgwli83VkfKe0yztySAFYex0a3ls2DhUAf/8/ML5Tdg02AF8MimIZI+FMyYQ9PhnWyOGwhAyDOSgCZlU4LMGRsEbEwh43As4UASxj5EDn2zdYAHzYbyV02XCmCLCoo2AigkRBsEYOB8vMwsEJk3H49mkovvdBlNz3GxTdNR2HbpoClyEXtqh4SBQEExGsEbFg6QYwXXZ/dNg9UAD89/nMLLh02bANS4CRCNbIOByeeieqV67C6Y8/RaPNgYu1tei4dAlXfB0duHTqNNwOhlPbP8HR5StwcMJNkCgEJgqAM0WAS5/jLwhb+gvAvX4bbsiFNSIORiK4DDmofukVuJ0MA/k62trQsOcrlD38GCzqSJiIwNINcOn8AmKevwBomCC28k7g0ufAmSIgTza8Zv3baG04g8H+zhlNKL7vIZgoANZh8XAZRvkDgt4fABzcxo8cBWt4DEwUgMrFT6PtzOAb3vv7adtHsEbGQqIguAy5YJlZPLpW8AIwm9t4wyhIpIYtOh51O3bian7ni4qRnzMGJiIPCHw6P+sLgEAmiOd4V14iFVyGHLSUV3ApfeHoMdTt2Injr72BiqeWoGzWHJTOmI2y2XNRuXQZTry5DvV7vsSl03Vc47Wfb0HBuIkyCFzu0MYEMUoJgJX8xgfBmaZDa32DT0XrPtuFkgdnwpGUBolUMBLBRCpIpIZEIZBIDRMFwkgEidRgGQaUz38Kble+bxDcbrgyRUgUDNdILhA2eAMgnAniBd/bPgeWsGhYY+Jx4egxReXOfPsdCn85FSYimCgAdk0qWIbo3Wczs8AyRsIWmwgjESwhUahYuARob1feWceqYY2MhTUmgZcvaPoC4FmeVOcYkQETEc4ZJUWljq9aLa9ooIfV+UlkXPocOBK12E+EgrETfe60Ux9tx34iuASugPh6XwAU+VYqF3lEOPbCi4rKHJkzD/uJ4EjU9oe49OQW+lwYiZCfOwbtTU2K8x6+7dceV/DNEWp6AzCaRxlrZCxYhqFvFid/FQuXYq9MVnquepZ8FhC6uD5f+oLLkIt9RCift0ARADfLh4lUcGoNPONO6Q7AGt8AZCOPCD9t+8h7ft7yIfYTwanVdxmXmQWX3hM3JFLBGjVc5voqWMNjuPO4M1UHI4frldz7ICRVCM+Ym7sD4HP7WyPicGD0eK8Tt1RUwRwUBlusBq7Olddlg6UbYCLCwQk3oXbjZrjtTrgdDCc3b0HBuEmQKIQrj7v0OTARofieB5RjwT+2w0jEA0BtJwDJPNvfSIQTa9Z6nbj8iYUyFc7tiuiCCCMRKhYsRkdr65UprLkZBeMmwRwU3gWagjiS0mGLSkBLZZUi17DHJcMxIp3HDUYRE8SZPrefVg+LOhJup8t7GooaDkdiWg+/NRKhdMYsxRVrKSuHJTTKExc4F+Lklm2KYxZOvROWkGE8ACzi8n9bVDwKxk7ymo9r3lznWf1uEd8elwS7JhXtTc0+yUzx3ffDHBTBDUD1i6sUx6tc/DRMpOIB4H2Sy0eKP5QoCOXznvSefn51F8xB4Vcoevy1NVyUtmrZcpgogCsjSKRC5eJnFMc7sWat59jMUTUiJohOXz80EaHGi/9fqj0JZ4oAe0Jqt4idCWt4NJoOHuID4NnlHsLEBUAQyp9cpDjej+9u5AWgmJggHvVVxzNRAE5u7dvvzuWZYAmJgjNN3+Uy0RocGDNBkS90/0pnzII5IJQbgIqFSxXHq31vEy8AP5DPlla6ARKpcfrjHV4OOp9DIjWc3YqYlpBhOHz7NL6Kz8WLODB6PGzRGi4ATKRC1bLnlXfAOxt4AThHTBDdvgEIxqntH3vJu/+EREEe5tcJQHAEiu6+nwsAt8MJS+gwOLU6TgAI1atWK8eA19fwAuAmudHoc9LaTR/0OdnpHTshUXCvHRDFvQNq/vwOL3Hp0mXD33zGFBNfTHETE8QGnkmPr37DS51OgiU4skcMsEbFo2D8L4C2Nt8p8J77YVbx+T9LHwkzhaBhz1fKMeXhR2GmEJ4xG4kJ4jHfgScYR+bM63OytsZGuDKzYItJ7GJsIzJgjxuBliPliopeqj0Jh0YLhyaNCwBHUhocCam4cKxaIah04OCkm2GNiOMZs5Z4bnHYohNw4Iaf9UlnPTT4qV40WN6q721SrhR9upPXVy+7VuEtU5WZZWUV7PGpcIzgArWEq+3lTNfDrApFo8Xad4GyuARmVQjs8cmeA1BmFqSAYBT7CITl8xd5AODxf53nNHpsxUrFMev//SVMFMTbWsvj6/7IzE5p8h/WvS0HMw8AJgpEhQJh6Wi5AFfWDbBFJ/LtgDQDzKSG22ZXBKD65Vf9Capbucvg9vgU2IYnobXBe2mqaNp0WNSRlwOnt9QJAGf37oM5MBTOdAPXGcAcFIbCW27zGVQP/fyXsIbF8LrV08QEMY23KmMkQtkjc7xXgxYsgYlUchBMViyXH1/9BvdKuXTZ2O8D0M6M1JuT+JCxnQWRI7xpKI8Ite9uvDIbuN3IF0fDFpcEa3gcDk262Yf/L+TK1S5DLqQANQ6MGoeONuXqcPnc+Z6YwleAreteEVrPtQt02bBrUmCiQNSse6vH5I1GCRIFyxUgFY7MfUJR2aPLV3h2gJKyumzY45NhJEKj3aHcKSothTk4HM5kgXf1P+wOwHj+dlgu7JpUT7HjoYdxvrjEY9DzKzxHWl02jET48a8blLdrnhFGIk8hpA83cOlzYE9IxV4vO+7KSvTjnq40fxX6zt5l8XJuEHTZ8ikxEM7kDBROuQOOFAEszQBnmh4WdRQaLTafSlcuWYa9RHBotF07QW6OSBTsswx3Gcz9Rs/9gVQdr/E/9dUXWOFv3d6lz4FdkwpLaDScKZlw6XNgi0lEfvYYtLe0cJ0FKhc/A7MqFHlEMMpiokAUjJ2Ihq+/9fn/tqZmOJK0sIRG+bP66/sCIFpuHg7obo4UEIzSRx7zq9PblF+AH976C6pffgUn/rQODV9/w/3fwltv96c52imp3pqjbw4IAJkw1ax/xytPH8yvdOYsDwX3r+22Tak7HDKgS5BpBphV4Ti7L887Vf3X7gEb3tbYiKJp05HXeY7gPErLEu/rgsT8/gJgix0BlyEXbW631x1gjYzDkbmP99v4+t174NJn96Ddfui4kveKTFH//D8UJQ/M9Kp886FCWIKjkEeE0pmzcb7sCLfhjVYbymbPhYlUsARH+nM1pkcniBeA9P76f/VLr3o14uSmDzxMLcNzVrAnpqJi4VKc/nQnWioq0X7+PDpaW9HmbkJL1VGc+fY7nFizFkXT7rt8D8mp1fW343yjv9fkHvV3EhMFou6znYopr/P425lCTRTgKaklZ6Dgxok4OHEyDoweD2dqJsxBETASwawK96TZ/l2WBBPE5/p7UXIT7ySOpHSf1ZpDk6fA0vukJhMfh0YL27AEWCOHwxatgV2T2qPMNgDZOdCrsp9zVWvUw1B46x3euXpxCWyR8XCmZF7NS9N5g3VZ+nuewmnVc7/37v9btvlV/R0EcQ32dfldvgA4uXmr96PqvAWew1LmVTF+LxNE1VA8mOgzJjjTDDAHhnvl7h0XL8Ilju5ROR5C+WSon8zMv/L6SiasEXFotPV9Zq/b9YVn+w+98cuv1qOp0UwQWVcfIB32+GQ0Fx7um7M/NMvTrx86/y9jgjj5Wjybe44JYqMjSQu7RovmktI+KjVlsKgj4OCv1Pgjl+Q3i4HX8uGkxpGU9pYjUXvxfGnZFQCUzfqtv5UaXtkkM9Zr/3TWqdWRJSxae3a/cRGA7y5XaiQzTETcnV8OqZLfEYvX1dthZ7qBpIAwqt/9FQEgAGJrff0L+bljy83BYQNd/eNMELcyQZzOBDHgunw87UzTkzkoghq++U8nANRotZFEanKmGcYwQVzABPE9Joj/ZYJYyATxBBPEM92ez5+Vr68WyTn8fflJ7MSB+DeP/G8AiLllTCtHBPYAAAAASUVORK5CYII\\u003d\",\n    \"displayName\": \"pinterest\",\n    \"id\": \"github.com_pinterest\"\n  },\n  \"description\": \"A server-side Tag to fire events to the Pinterest Conversions API.\",\n  \"containerContexts\": [\n    \"SERVER\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"advertiserId\",\n    \"displayName\": \"Advertiser ID\",\n    \"simpleValueType\": true,\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      },\n      {\n        \"args\": [\n          \"549\\\\d{9}\"\n        ],\n        \"type\": \"REGEX\"\n      }\n    ],\n    \"help\": \"Pinterest Advertiser ID. You can find it by logging to the Pinterest account that owns your advertiser account, then go to \\\"ads.pinterest.com\\\". In the top navigation section, click on \\\"Viewing: \\\" and the advertiser id will be the number underneath the ad account name in the drop down menu. Advertiser Id usually starts with 549...\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"apiAccessToken\",\n    \"displayName\": \"API Access Token\",\n    \"simpleValueType\": true,\n    \"help\": \"To use the Pinterest Conversions API, you need an access token.\",\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      }\n    ]\n  },\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"eventName\",\n    \"radioItems\": [\n      {\n        \"value\": \"inherit\",\n        \"subParams\": [],\n        \"displayValue\": \"Inherit from client\"\n      },\n      {\n        \"value\": \"pinterestEventName\",\n        \"displayValue\": \"Override client\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"eventNameStandard\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"value\": \"add_to_cart\",\n                \"displayValue\": \"add_to_cart\"\n              },\n              {\n                \"value\": \"checkout\",\n                \"displayValue\": \"checkout\"\n              },\n              {\n                \"value\": \"custom\",\n                \"displayValue\": \"custom\"\n              },\n              {\n                \"value\": \"lead\",\n                \"displayValue\": \"lead\"\n              },\n              {\n                \"value\": \"page_visit\",\n                \"displayValue\": \"page_visit\"\n              },\n              {\n                \"value\": \"search\",\n                \"displayValue\": \"search\"\n              },\n              {\n                \"value\": \"signup\",\n                \"displayValue\": \"signup\"\n              },\n              {\n                \"value\": \"view_category\",\n                \"displayValue\": \"view_category\"\n              },\n              {\n                \"value\": \"watch_video\",\n                \"displayValue\": \"watch_video\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"defaultValue\": \"page_visit\"\n          }\n        ]\n      }\n    ],\n    \"simpleValueType\": true,\n    \"displayName\": \"Event Name\",\n    \"defaultValue\": \"inherit\",\n    \"help\": \"Set the event name you want to send to Pinterest Conversions API. You can either inherit it from what you defined in Web container (client) or define a new Pinterest standard event name.\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"overrideMode\",\n    \"displayName\": \"Event Data\",\n    \"checkboxText\": \"Override client data\",\n    \"simpleValueType\": true,\n    \"help\": \"If checked, you could override or set new values for parameters received from the Web container (client).\"\n  },\n  {\n    \"displayName\": \"Event Data\",\n    \"name\": \"serverEventDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"overrideMode\",\n        \"type\": \"EQUALS\",\n        \"paramValue\": true\n      }\n    ],\n    \"subParams\": [\n      {\n        \"name\": \"serverEventDataList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"defaultValue\": \"action_source\",\n            \"displayName\": \"Parameter Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"action_source\",\n                \"displayValue\": \"Action Source\"\n              },\n              {\n                \"value\": \"event_time\",\n                \"displayValue\": \"Event Time\"\n              },\n              {\n                \"value\": \"event_id\",\n                \"displayValue\": \"Event ID\"\n              },\n              {\n                \"value\": \"event_source_url\",\n                \"displayValue\": \"Event Source URL\"\n              },\n              {\n                \"value\": \"opt_out\",\n                \"displayValue\": \"Opt Out\"\n              },\n              {\n                \"value\": \"partner_name\",\n                \"displayValue\": \"Partner Name\"\n              },\n              {\n                \"value\": \"app_id\",\n                \"displayValue\": \"App ID\"\n              },\n              {\n                \"value\": \"app_name\",\n                \"displayValue\": \"App name\"\n              },\n              {\n                \"value\": \"app_version\",\n                \"displayValue\": \"App version\"\n              },\n              {\n                \"value\": \"device_brand\",\n                \"displayValue\": \"Device brand\"\n              },\n              {\n                \"value\": \"device_carrier\",\n                \"displayValue\": \"Device carrier\"\n              },\n              {\n                \"value\": \"device_model\",\n                \"displayValue\": \"Device model\"\n              },\n              {\n                \"value\": \"device_type\",\n                \"displayValue\": \"Device type\"\n              },\n              {\n                \"value\": \"os_version\",\n                \"displayValue\": \"OS version\"\n              },\n              {\n                \"value\": \"wifi\",\n                \"displayValue\": \"WiFi\"\n              },\n              {\n                \"value\": \"language\",\n                \"displayValue\": \"Language\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add Parameter\"\n      }\n    ]\n  },\n  {\n    \"displayName\": \"User Data\",\n    \"name\": \"userDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"overrideMode\",\n        \"type\": \"EQUALS\",\n        \"paramValue\": true\n      }\n    ],\n    \"subParams\": [\n      {\n        \"name\": \"userDataList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"defaultValue\": \"em\",\n            \"displayName\": \"Parameter Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"em\",\n                \"displayValue\": \"Email\"\n              },\n              {\n                \"value\": \"ph\",\n                \"displayValue\": \"Phone\"\n              },\n              {\n                \"value\": \"ge\",\n                \"displayValue\": \"Gender\"\n              },\n              {\n                \"value\": \"db\",\n                \"displayValue\": \"Date of Birth\"\n              },\n              {\n                \"value\": \"ln\",\n                \"displayValue\": \"Last Name\"\n              },\n              {\n                \"value\": \"fn\",\n                \"displayValue\": \"First Name\"\n              },\n              {\n                \"value\": \"ct\",\n                \"displayValue\": \"City\"\n              },\n              {\n                \"value\": \"st\",\n                \"displayValue\": \"State\"\n              },\n              {\n                \"value\": \"zp\",\n                \"displayValue\": \"Zip\"\n              },\n              {\n                \"value\": \"country\",\n                \"displayValue\": \"Country\"\n              },\n              {\n                \"value\": \"hashed_maids\",\n                \"displayValue\": \"Maids\"\n              },\n              {\n                \"value\": \"client_ip_address\",\n                \"displayValue\": \"Client IP address\"\n              },\n              {\n                \"value\": \"client_user_agent\",\n                \"displayValue\": \"Client user agent\"\n              },\n              {\n                \"value\": \"external_id\",\n                \"displayValue\": \"External Id\"\n              },\n              {\n                \"value\": \"click_id\",\n                \"displayValue\": \"Click Id\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add Parameter\"\n      }\n    ]\n  },\n  {\n    \"displayName\": \"Custom Data\",\n    \"name\": \"customDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"overrideMode\",\n        \"type\": \"EQUALS\",\n        \"paramValue\": true\n      }\n    ],\n    \"subParams\": [\n      {\n        \"name\": \"customDataList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"defaultValue\": \"currency\",\n            \"displayName\": \"Parameter Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"currency\",\n                \"displayValue\": \"Currency\"\n              },\n              {\n                \"value\": \"value\",\n                \"displayValue\": \"Value\"\n              },\n              {\n                \"value\": \"content_name\",\n                \"displayValue\": \"Content Name\"\n              },\n              {\n                \"value\": \"content_category\",\n                \"displayValue\": \"Content Category\"\n              },\n              {\n                \"value\": \"content_brand\",\n                \"displayValue\": \"Content Brand\"\n              },\n              {\n                \"value\": \"content_ids\",\n                \"displayValue\": \"Content IDs\"\n              },\n              {\n                \"value\": \"contents\",\n                \"displayValue\": \"Contents\"\n              },\n              {\n                \"value\": \"num_items\",\n                \"displayValue\": \"Number of Items\"\n              },\n              {\n                \"value\": \"order_id\",\n                \"displayValue\": \"Order ID\"\n              },\n              {\n                \"value\": \"search_string\",\n                \"displayValue\": \"Search string\"\n              },\n              {\n                \"value\": \"opt_out_type\",\n                \"displayValue\": \"OptOutType\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add Parameter\"\n      }\n    ]\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"testMode\",\n    \"displayName\": \"Test Mode\",\n    \"checkboxText\": \"Send as a test-request\",\n    \"simpleValueType\": true,\n    \"help\": \"If checked, the event will not be recorded but the API will still return the same response messages. Use this mode to verify your requests are working and your events are constructed correctly.\"\n  },\n  {\n    \"displayName\": \"Logs Settings\",\n    \"name\": \"logsGroup\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"type\": \"RADIO\",\n        \"name\": \"logMode\",\n        \"radioItems\": [\n          {\n            \"value\": \"log\",\n            \"displayValue\": \"Log to console\"\n          },\n          {\n            \"value\": \"donotlog\",\n            \"displayValue\": \"Do not log\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"defaultValue\": \"donotlog\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_SERVER___\n\n// Sandbox Javascript imports\nconst getAllEventData = require('getAllEventData');\nconst getType = require('getType');\nconst sendHttpRequest = require('sendHttpRequest');\nconst JSON = require('JSON');\nconst Math = require('Math');\nconst getTimestampMillis = require('getTimestampMillis');\nconst sha256Sync = require('sha256Sync');\nconst getCookieValues = require('getCookieValues');\nconst setCookie = require('setCookie');\nconst parseUrl = require('parseUrl');\nconst makeInteger = require('makeInteger');\nconst makeString = require('makeString');\nconst logToConsole = require('logToConsole');\n\n\n// CONSTANTS\nconst isLogEnabled = isLoggingEnabled();\nconst eventModel = getAllEventData();\nif (isLogEnabled) logToConsole(JSON.stringify({'Tag Data': data}));\nif (isLogEnabled) logToConsole(JSON.stringify({'Event Data': eventModel}));\n\n// GA4 event names/types: https://support.google.com/analytics/answer/9267735\n// Pinterest event names/types: https://developers.pinterest.com/docs/api/v5/#operation/events/create\nconst EVENT_NAME_MAPPINGS = {\n  \"add_to_cart\": \"add_to_cart\",\n  \"addtocart\": \"add_to_cart\",\n  \"purchase\": \"checkout\",\n  \"buy\": \"checkout\",\n  \"pay\": \"checkout\",\n  \"payment\": \"checkout\",\n  \"generate_lead\": \"lead\",\n  \"submit_application\": \"lead\",\n  \"contact\": \"lead\",\n  \"page_view\": \"page_visit\",\n  \"pageview\": \"page_visit\",\n  \"pagevisit\": \"page_visit\",\n  \"gtm.dom\": \"page_visit\",\n  \"search\": \"search\",\n  \"find_location\": \"search\",\n  \"sign_up\": \"signup\",\n  \"signup\": \"signup\",\n  \"completeregistration\": \"signup\",\n  \"viewcategory\": \"view_category\",\n  \"viewcontent\": \"view_category\",\n  \"view_item_list\": \"view_category\",\n  \"watchvideo\": \"watch_video\",\n  \"add_payment_info\": \"custom\",\n  \"add_shipping_info\": \"custom\",\n  \"add_to_wishlist\": \"custom\",\n  \"begin_checkout\": \"custom\",\n  \"refund\": \"custom\",\n  \"remove_from_cart\": \"custom\",\n  \"select_item\": \"custom\",\n  \"select_promotion\": \"custom\",\n  \"view_cart\": \"custom\",\n  \"view_item\": \"page_visit\",\n  \"view_promotion\": \"custom\"\n};\n\nconst PARAM_VALUE_FORMAT = {\n  \"event_time\": \"integer\",\n  \"event_id\": \"string\",\n  \"num_items\": \"integer\",\n  \"opt_out\": \"boolean\",\n  \"wifi\": \"boolean\",\n  \"value\": \"string\",\n  \"em\": \"array-hashed\",\n  \"ph\": \"array-hashed\",\n  \"ge\": \"array-hashed\",\n  \"db\": \"array-hashed\",\n  \"fn\": \"array-hashed\",\n  \"ln\": \"array-hashed\",\n  \"ct\": \"array-hashed\",\n  \"st\": \"array-hashed\",\n  \"zp\": \"array-hashed\",\n  \"country\": \"array-hashed\",\n  \"hashed_maids\": \"array-hashed\",\n  \"external_id\": \"array-hashed\",\n  \"content_ids\": \"array\",\n  \"contents\": \"json\"\n};\n\nconst DEFAULT_NAMED_PARTNER = 'ss-gtm';\n\nconst DEFAULT_ACTION_SOURCE = 'web';\n\nconst DEFAULT_EVENT_TIME = Math.round(getTimestampMillis() / 1000);\n\nconst DEFAULT_CLIENT_IP_ADDRESS = eventModel.ip_override;\n\nconst DEFAULT_CLIENT_USER_AGENT = eventModel.user_agent;\n\n// FUNCTIONS\nfunction isAlreadyHashed(input) {\n  return input && (input.match('^[A-Fa-f0-9]{64}$') != null);\n}\n\nfunction hashFunction(input) {\n  const type = getType(input);\n\n  if (type == 'undefined' || input == 'undefined') {\n    return undefined;\n  }\n\n  if (input == null || isAlreadyHashed(input)) {\n    return input;\n  }\n\n  return sha256Sync(input.trim().toLowerCase(), {outputEncoding: 'hex'});\n}\n\nfunction getContentsFromItems(items) {\n    return items.map(item => {\n        return {\n            \"id\": makeString((item.item_id) ? item.item_id : item.item_name),\n            \"item_price\": makeString(item.price),\n            \"quantity\": makeInteger(item.quantity),\n        };\n    });\n}\n\nfunction getContentIdsFromItems(items) {\n    return JSON.stringify(items.map(item => {\n        return makeString((item.item_id) ? item.item_id : item.item_name);\n    }));\n}\n\nfunction getPinterestEventName(gtmEventName, toLowerCase) {\n  let pinterestEventName;\n  if (data.eventName === 'inherit') {\n    if (toLowerCase) {\n      gtmEventName = gtmEventName.trim().toLowerCase();\n    }\n    pinterestEventName = EVENT_NAME_MAPPINGS[gtmEventName] || gtmEventName;\n  } else if ( data.eventName === 'pinterestEventName') {\n    pinterestEventName = data.eventNameStandard;\n  }\n  return pinterestEventName;\n}\n\nfunction replaceAll(string, search, replace) {\n  return string.split(search).join(replace);\n}\n\nfunction convertToArrayOfStrings(input, hashIfNeeded) {\n  if (input == null) {\n    return input;\n  }\n\n  const type = getType(input);\n  if (type == 'undefined' || input == 'undefined') {\n    return undefined;\n  }\n\n  let arrayOfStrings = [];\n  if (type == 'array') {\n    arrayOfStrings = input.map((i) => makeString(i));\n  }\n  if (type == 'string') {\n    let arrayOfObjs = replaceAll(input.toString().replace('[','').replace(']',''),'\\\"','').split(',');\n    arrayOfStrings = arrayOfObjs.map((i) => makeString(i).trim()).filter(function(e) {\n      return !(!e || e.length === 0 );\n    });\n  }\n\n  return arrayOfStrings.map(item => {\n    if (hashIfNeeded === true) {\n      return hashFunction(item);\n    }\n    return item;\n  });\n}\n\nfunction getBooleanFromString(input) {\n  const type = getType(input);\n  if (type == 'undefined' || input == 'undefined') {\n    return undefined;\n  }\n\n  if (input == null) {\n    return input;\n  }\n\n  return (typeof input === 'string' && (input.toLowerCase() === \"true\" || input.toLowerCase() === \"false\")) ? JSON.parse(input.toLowerCase()) : input;\n}\n\nfunction getJsonFromString(input) {\n  const type = getType(input);\n  if (type == 'undefined' || input == 'undefined') {\n    return undefined;\n  }\n\n  if (input == null) {\n    return input;\n  }\n\n  return (typeof input === 'string' && input.charAt(0) === '[' && input.charAt(input.length - 1) === ']' \n          && input.charAt(1) === '{' && input.charAt(input.length - 2) === '}') ? JSON.parse(input) : input;\n}\n\nfunction overrideEventData(event, data) {\n  if (data.serverEventDataList) {\n    data.serverEventDataList.forEach(d => {\n      event[d.name] = d.value;\n    });\n  }\n  if (data.userDataList) {\n    data.userDataList.forEach(d => {\n      event.user_data[d.name] = d.value;\n    });\n  }\n  if (data.customDataList) {\n    data.customDataList.forEach(d => {\n      event.custom_data[d.name] = d.value;\n    });\n  }\n}\n\nfunction formatDataTypes(object) {\n  for (let key in object) {\n    if (object.hasOwnProperty(key)) {\n        if (PARAM_VALUE_FORMAT[key] === 'string') object[key] = makeString(object[key]);\n        if (PARAM_VALUE_FORMAT[key] === 'integer') object[key] = makeInteger(JSON.parse(object[key]));\n        if (PARAM_VALUE_FORMAT[key] === 'boolean') object[key] = getBooleanFromString(object[key]);\n        if (PARAM_VALUE_FORMAT[key] === 'array') object[key] = convertToArrayOfStrings(object[key], false);\n        if (PARAM_VALUE_FORMAT[key] === 'array-hashed') object[key] = convertToArrayOfStrings(object[key], true);\n        if (PARAM_VALUE_FORMAT[key] === 'json') object[key] = getJsonFromString(object[key]);\n    }\n  }\n}\n\nfunction isLoggingEnabled() {\n  return (data.logMode === 'log') ? true : false;\n}\n\n// EVENT PARAMETERS\nconst event = {};\n// event_name\nevent.event_name = getPinterestEventName(eventModel.event_name, true);\n// action_source\nevent.action_source = eventModel.action_source ? eventModel.action_source : DEFAULT_ACTION_SOURCE;\n// event_time\nevent.event_time = eventModel.event_time ? eventModel.event_time : DEFAULT_EVENT_TIME;\n// event_id\nif (eventModel.event_id) {\n  event.event_id = eventModel.event_id;\n}\n// event_source_url\nevent.event_source_url = eventModel.event_source_url ? eventModel.event_source_url : eventModel.page_location;\n// opt_out\nif (eventModel.opt_out) {\n  event.opt_out = eventModel.opt_out;\n}\n// partner_name\nif (eventModel.partner_name) {\n  event.partner_name = eventModel.partner_name;\n}\n\n// AUTHORIZATION PARAMETERS\nconst apiAccessToken = data.apiAccessToken;\n\n// USER PARAMETERS (user_data)\nevent.user_data = {};\nif (eventModel.user_data != null) {\n  // em\n  if (eventModel.user_data.email_address) {\n    event.user_data.em = eventModel.user_data.email_address;\n  }\n  // ph\n  if (eventModel.user_data.phone_number) {\n    event.user_data.ph = eventModel.user_data.phone_number;\n  }\n  // ge\n  if (eventModel.user_data.gender) {\n    event.user_data.ge = eventModel.user_data.gender;\n  }\n  // db\n  if (eventModel.user_data.date_of_birth) {\n    event.user_data.db = eventModel.user_data.date_of_birth;\n  }\n\n  if (eventModel.user_data.address != null) {\n    const addressData = eventModel.user_data.address;\n    // fn\n    event.user_data.fn = addressData.first_name;\n    // ln\n    event.user_data.ln = addressData.last_name;\n    // ct\n    event.user_data.ct = addressData.city;\n    // st\n    event.user_data.st = addressData.region;\n    // zp\n    event.user_data.zp = addressData.postal_code;\n    // country\n    event.user_data.country = addressData.country;\n  }\n  // hashed_maids\n  if (eventModel.user_data.hashed_maids) {\n    event.user_data.hashed_maids = eventModel.user_data.hashed_maids;\n  }\n  // external_id\n  if (eventModel.user_data.external_id) {\n    event.user_data.external_id = eventModel.user_data.external_id;\n  }\n  // click_id\n  if (eventModel.user_data.click_id) {\n    event.user_data.click_id = eventModel.user_data.click_id;\n  }\n}\n\n// client_ip_address / default\nevent.user_data.client_ip_address = (eventModel.user_data && eventModel.user_data.client_ip_address) ? eventModel.user_data.client_ip_address : DEFAULT_CLIENT_IP_ADDRESS;\n// client_user_agent / default\nevent.user_data.client_user_agent = (eventModel.user_data && eventModel.user_data.client_user_agent) ? eventModel.user_data.client_user_agent : DEFAULT_CLIENT_USER_AGENT;\n\n// CUSTOM PARAMETERS (custom_data)\nevent.custom_data = {};\n// currency\nif (eventModel.currency) {\n  event.custom_data.currency = eventModel.currency;\n}\n// value\nif (eventModel.value) {\n  event.custom_data.value = eventModel.value;\n}\n// content_name\nif (eventModel.content_name) {\n  event.custom_data.content_name = eventModel.content_name;\n}\n// content_category\nif (eventModel.content_category) {\n  event.custom_data.content_category = eventModel.content_category;\n}\n// content_brand\nif (eventModel.content_brand) {\n  event.custom_data.content_brand = eventModel.content_brand;\n}\n// content_ids\nif (eventModel.content_ids) {\n  event.custom_data.content_ids = eventModel.content_ids;\n} else if (eventModel.items) {\n  event.custom_data.content_ids = getContentIdsFromItems(eventModel.items);\n}\n// contents\nif (eventModel.contents) {\n  event.custom_data.contents = eventModel.contents;\n} else if (eventModel.items) {\n  event.custom_data.contents = getContentsFromItems(eventModel.items);\n}\n// num_items\nif (eventModel.num_items) {\n  event.custom_data.num_items = eventModel.num_items;\n} else if (eventModel.items) {\n  event.custom_data.num_items = eventModel.items.length;\n}\n// order_id\nif (eventModel.order_id) {\n  event.custom_data.order_id = eventModel.order_id;\n}\n// search_string\nif (eventModel.search_string) {\n  event.custom_data.search_string = eventModel.search_string;\n}\n// opt_out_type\nif (eventModel.opt_out_type) {\n  event.custom_data.opt_out_type = eventModel.opt_out_type;\n}\n// app_id\nif (eventModel.app_id) {\n  event.app_id = eventModel.app_id;\n}\n// app_name\nif (eventModel.app_name) {\n  event.app_name = eventModel.app_name;\n}\n// app_version\nif (eventModel.app_version) {\n  event.app_version = eventModel.app_version;\n}\n// device_brand\nif (eventModel.device_brand) {\n  event.device_brand = eventModel.device_brand;\n}\n// device_carrier\nif (eventModel.device_carrier) {\n  event.device_carrier = eventModel.device_carrier;\n}\n// device_model\nif (eventModel.device_model) {\n  event.device_model = eventModel.device_model;\n}\n// device_type\nif (eventModel.device_type) {\n  event.device_type = eventModel.device_type;\n}\n// os_version\nif (eventModel.os_version) {\n  event.os_version = eventModel.os_version;\n}\n// wifi\nif (eventModel.wifi) {\n  event.wifi = eventModel.wifi;\n}\n// language\nif (eventModel.language) {\n  event.language = eventModel.language.slice(0,2);\n}\n\n// np\nevent.custom_data.np = DEFAULT_NAMED_PARTNER;\n\n// OVERRIDE EVENT DATA\nif (data.overrideMode) {\n  overrideEventData(event, data);\n}\n\n// ENSURE CORRECT FORMAT\nformatDataTypes(event);\nif (event.user_data) formatDataTypes(event.user_data);\nif (event.custom_data) formatDataTypes(event.custom_data);\n\n// PINTEREST API ENDPOINT\nconst API_ENDPOINT = 'https://api.pinterest.com/v5/ad_accounts/';\nvar requestEndpoint = [API_ENDPOINT, data.advertiserId, '/events'].join('');\nif (data.testMode) {\n  requestEndpoint = [requestEndpoint,'?test=true'].join('');\n}\nconst eventRequest = {data: [event]};\nif (isLogEnabled) {\n  logToConsole(JSON.stringify({\n    'Name': 'Pinterest Conversions API',\n    'Type': 'Request',\n    'RequestMethod': 'POST',\n    'RequestUrl': requestEndpoint,\n    'AdvertiserId': data.advertiserId,\n    'EventName': event.event_name,\n    'RequestBody (payload)': eventRequest\n  }));\n}\n\n// Posting to Pinterest Conversions API endpoint\nconst requestHeaders = {\n  headers: {'content-type': 'application/json',\n            'Authorization':'Bearer ' + apiAccessToken},\n  method: 'POST'};\n\nsendHttpRequest(requestEndpoint,(responseStatusCode, responseHeaders, responseBody) => {\n  if (isLogEnabled) {\n    logToConsole(JSON.stringify({\n      'Name': 'Pinterest Conversions API',\n      'Type': 'Response',\n      'AdvertiserId': data.advertiserId,\n      'EventName': event.event_name,\n      'ResponseStatusCode': responseStatusCode,\n      'ResponseHeaders': responseHeaders,\n      'ResponseBody': responseBody\n    }));\n  }\n  if (responseStatusCode >= 200 && responseStatusCode < 300) {\n      data.gtmOnSuccess();\n    } else {\n      data.gtmOnFailure();\n    }\n  },\n  requestHeaders,\n  JSON.stringify(eventRequest)\n);\n\n\n___SERVER_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_event_data\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"eventDataAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"send_http\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedUrls\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://api.pinterest.com/\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"cookieAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"cookieNames\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"_pinterest_sess\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_pinterest_ct\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_pinterest_ct_rt\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_epik\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_derived_epik\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_pin_unauth\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_pinterest_ct_ua\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_routing_id\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"set_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedCookies\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_pinterest_sess\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_pinterest_ct\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_pinterest_ct_rt\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_epik\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_derived_epik\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_pin_unauth\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_pinterest_ct_ua\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_routing_id\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"all\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: On EventModel model data tag triggers to send to Pinterest Conversions API\n    (cAPI)\n  code: |-\n    // Act\n    runCode(testConfigurationData);\n\n    //Assert\n    assertApi('sendHttpRequest').wasCalledWith(requestEndpoint, actualSuccessCallback, requestHeaderOptions, JSON.stringify(requestData));\n    assertApi('gtmOnSuccess').wasCalled();\n- name: On sending 'action_source' from Client, Tag overrides the preset configuration\n    from server side\n  code: |-\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.action_source = testData.action_source;\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].action_source).isEqualTo(testConfigurationData.serverEventDataList[testConfigurationData.serverEventDataList.map(o => o.name).indexOf('action_source')].value);\n- name: On not sending 'action_source' from Client, Tag set 'web' as a default value\n    for cAPI\n  code: |-\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.action_source = null;\n      return inputEventModel;\n    });\n    testConfigurationData.serverEventDataList = null;\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].action_source).isEqualTo(DEFAULT_ACTION_SOURCE);\n- name: On receiving 'event_name', Tag trims and lowercases it to support case insensitive\n  code: |-\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.event_name = ' Add_to_Cart ';\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].event_name).isEqualTo('add_to_cart');\n- name: On receiving 'event_name', Tag tries to map it to a standard event name\n  code: |-\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.event_name = 'purchase';\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].event_name).isEqualTo('checkout');\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.event_name = ' PAGE_VIEW';\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].event_name).isEqualTo('page_visit');\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.event_name = 'view_cart';\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].event_name).isEqualTo('custom');\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.event_name = ' ANY_other_Name ';\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].event_name).isEqualTo('any_other_name');\n- name: On receiving event data, Tag hashes the 'user_data' fields if they are not\n    already hashed\n  code: |-\n    // Un-hashed raw email_address from Common Event Schema is hashed before posted to Conversions API.\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.user_data = {};\n      inputEventModel.user_data.email_address = '[foo1@bar.com,foo2@bar.com]';\n      inputEventModel.user_data.phone_number = 'c775e7b757ede630cd0aa1113bd102661ab38829ca52a6422ab782862f268646';\n      inputEventModel.user_data.gender = \" m \";\n      inputEventModel.user_data.hashed_maids = [\"maid_01\", \"6ab15588d5535128752e63d57e2e216234e9633c6397cdcc98f4976b53d2a381\"];\n      inputEventModel.user_data.address = {};\n      inputEventModel.user_data.address.first_name = 'Foo';\n      inputEventModel.user_data.address.last_name = \"[Bar]\";\n      inputEventModel.user_data.address.city = 'Menlo Park';\n      inputEventModel.user_data.address.region = 'ca';\n      inputEventModel.user_data.address.postal_code = '5994471abb01112afcc18159f6cc74b4f511b99806da59b3caf5a9c173cacfc5';\n      inputEventModel.user_data.address.country = ['usa'];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].user_data.em).isEqualTo([hashFunction('foo1@bar.com'),hashFunction('foo2@bar.com')]);\n    assertThat(JSON.parse(httpBody).data[0].user_data.ph).isEqualTo([\"c775e7b757ede630cd0aa1113bd102661ab38829ca52a6422ab782862f268646\"]);\n    assertThat(JSON.parse(httpBody).data[0].user_data.ge).isEqualTo(hashFunction('m').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.hashed_maids).isEqualTo([hashFunction('maid_01'),\"6ab15588d5535128752e63d57e2e216234e9633c6397cdcc98f4976b53d2a381\"]);\n    assertThat(JSON.parse(httpBody).data[0].user_data.fn).isEqualTo(hashFunction('Foo').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.ln).isEqualTo(hashFunction('Bar').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.ct).isEqualTo(hashFunction('Menlo Park').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.st).isEqualTo(hashFunction('ca').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.zp).isEqualTo([\"5994471abb01112afcc18159f6cc74b4f511b99806da59b3caf5a9c173cacfc5\"]);\n    assertThat(JSON.parse(httpBody).data[0].user_data.country).isEqualTo(hashFunction('usa').split());\n\n    // Un-hashed raw email_address in mixed-case is converted to lowercase, hashed and posted to Conversions API.\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.user_data.email_address = 'FOO@BAR.com';\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].user_data.em).isEqualTo(hashFunction('foo@bar.com').split());\n\n\n    // Already sha256(email_address) field from GA4 schema, is unchanged, is posted as-is to Conversions API.\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.user_data.email_address = hashFunction('foo@bar.com');\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].user_data.em).isEqualTo(hashFunction('foo@bar.com').split());\n\n    // Already null email field from GA4 schema, is sent as null to Conversions API.\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.user_data.email_address = null;\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].user_data.em).isUndefined();\n- name: When some 'user_data' params are missing, Tag skips parsing the nested fields\n  code: |\n    mock('getAllEventData', () => {\n      inputEventModel.user_data = {};\n      inputEventModel.user_data.email_address = 'foo@bar.com';\n      inputEventModel.user_data.phone_number = '1234567890';\n      return inputEventModel;\n    });\n\n    runCode(testConfigurationData);\n\n    assertThat(JSON.parse(httpBody).data[0].user_data.em).isEqualTo(hashFunction('foo@bar.com').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.ph).isEqualTo(hashFunction('1234567890').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.fn).isUndefined();\n    assertThat(JSON.parse(httpBody).data[0].user_data.ln).isUndefined();\n    assertThat(JSON.parse(httpBody).data[0].user_data.ct).isUndefined();\n    assertThat(JSON.parse(httpBody).data[0].user_data.st).isUndefined();\n    assertThat(JSON.parse(httpBody).data[0].user_data.zp).isUndefined();\n    assertThat(JSON.parse(httpBody).data[0].user_data.country).isUndefined();\n- name: When some 'user_data' params are undefined, Tag skips parsing them\n  code: |\n    mock('getAllEventData', () => {\n      inputEventModel.user_data = {};\n      inputEventModel.user_data.email_address = undefined;\n      inputEventModel.user_data.phone_number = '1234567890';\n      inputEventModel.user_data.address = {};\n      inputEventModel.user_data.address.first_name = 'John';\n      inputEventModel.user_data.address.last_name = undefined;\n      inputEventModel.user_data.address.city = 'menlopark';\n      inputEventModel.user_data.address.region = 'ca';\n      inputEventModel.user_data.address.postal_code = '94025';\n      inputEventModel.user_data.address.country = 'usa';\n      return inputEventModel;\n    });\n\n    runCode(testConfigurationData);\n\n    assertThat(JSON.parse(httpBody).data[0].user_data.em).isUndefined();\n    assertThat(JSON.parse(httpBody).data[0].user_data.ph).isEqualTo(hashFunction('1234567890').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.fn).isEqualTo(hashFunction('John').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.ln).isUndefined();\n    assertThat(JSON.parse(httpBody).data[0].user_data.ct).isEqualTo(hashFunction('menlopark').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.st).isEqualTo(hashFunction('ca').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.zp).isEqualTo(hashFunction('94025').split());\n    assertThat(JSON.parse(httpBody).data[0].user_data.country).isEqualTo(hashFunction('usa').split());\n- name: On receiving 'value' as number, Tag converts it to String format\n  code: |\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.value = 12.45;\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.value).isEqualTo(\"12.45\");\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.value = '12.45';\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.value).isEqualTo(\"12.45\");\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.value = 12;\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.value).isEqualTo(\"12\");\n- name: On receiving 'content_ids' with different formats, Tag transforms it to an\n    Array of Strings\n  code: |-\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.content_ids = [\"id_1\",\"id_2\"];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.content_ids).isEqualTo([\"id_1\",\"id_2\"]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.content_ids = [1, 2, 3];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.content_ids).isEqualTo([\"1\",\"2\",\"3\"]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.content_ids = [\"1\", 2.5, \"3.10\"];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.content_ids).isEqualTo([\"1\",\"2.5\",\"3.10\"]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.content_ids = \"[1 , 2.5, 3]\";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.content_ids).isEqualTo([\"1\",\"2.5\",\"3\"]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.content_ids = \"[\\\"1\\\" , 2.5, \\\"3\\\"]\";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.content_ids).isEqualTo([\"1\",\"2.5\",\"3\"]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.content_ids = \"[1 , , 3]\";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.content_ids).isEqualTo([\"1\",\"3\"]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.content_ids = \"  \";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.content_ids).isEqualTo([]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.content_ids = \"\";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.content_ids).isUndefined();\n\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.content_ids = null;\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.content_ids).isUndefined();\n- name: On receiving 'contents' with different formats, Tag transforms it to a valid\n    Json object if feasible\n  code: |-\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = [{\"id\":\"value\"}];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo([{\"id\":\"value\"}]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = [\"id_1\",\"id_2\"];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo([\"id_1\",\"id_2\"]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = \"[\\\"id_1\\\",\\\"id_2\\\"]\";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo(\"[\\\"id_1\\\",\\\"id_2\\\"]\");\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = \"[{\\\"id_1\\\":\\\"value_1\\\"},{\\\"id_2\\\":\\\"value_2\\\"}]\";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo([{\"id_1\":\"value_1\"},{\"id_2\":\"value_2\"}]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = [{\"id\":\"id01\",\"item_price\":\"12.4\",\"quantity\":12}];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo([{\"id\":\"id01\",\"item_price\":\"12.4\",\"quantity\":12}]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = \"[{\\\"id\\\":\\\"id01\\\",\\\"item_price\\\":\\\"12.4\\\",\\\"quantity\\\":12}]\";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo([{\"id\":\"id01\",\"item_price\":\"12.4\",\"quantity\":12}]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = \"\";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isUndefined();\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = null;\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isUndefined();\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = \" \";\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo(\" \");\n- name: On receiving 'items' from GA4 event, Tag parses them into 'contents' for cAPI\n  code: |\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = null;\n      inputEventModel.items = [{item_id: 10, price: 12.4, quantity: 2}];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo([{\"id\":\"10\",\"item_price\":\"12.4\",\"quantity\":2}]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = undefined;\n      inputEventModel.items = [{item_id: \"id-01\", \"price\": \"12.4\", quantity: 2}];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo([{\"id\":\"id-01\",\"item_price\":\"12.4\",\"quantity\":2}]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = undefined;\n      inputEventModel.items = [{item_name: \"shoes\", price: 0, \"quantity\": \"2\"}];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo([{\"id\":\"shoes\",\"item_price\":\"0\",\"quantity\":2}]);\n\n    // Act\n    mock('getAllEventData', () => {\n      inputEventModel.contents = undefined;\n      inputEventModel.items = [{item_id: 5, item_name: \"shoes\", price: 0, \"quantity\": \"2\"},{item_name: \"item_01\", price: 12.5, \"quantity\": \"3\"}];\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents).isEqualTo([{\"id\":\"5\",\"item_price\":\"0\",\"quantity\":2},{\"id\":\"item_01\",\"item_price\":\"12.5\",\"quantity\":3}]);\n- name: On receiving 'items' from GA4 event, Tag parses them into 'content_ids', 'contents'\n    and 'num_items' for cAPI\n  code: |\n    // Act\n    let items = [\n      {\n        item_id: '1',\n        item_name: 'item_1',\n        quantity: 5,\n        price: 123.45,\n        item_category: 'cat_1',\n        item_brand: 'brand_1',\n      },\n      {\n        item_id: '2',\n        item_name: 'item_2',\n        quantity: 10,\n        price: 123.45,\n        item_category: 'cat_2',\n        item_brand: 'brand_2',\n      }\n    ];\n    mock('getAllEventData', () => {\n      inputEventModel.contents = null;\n      inputEventModel.content_ids = null;\n      inputEventModel.num_items = null;\n      inputEventModel.items = items;\n      return inputEventModel;\n    });\n    runCode(testConfigurationData);\n\n    //Assert\n    let actual_contents = JSON.parse(httpBody).data[0].custom_data.contents;\n    let actual_content_ids = JSON.parse(httpBody).data[0].custom_data.content_ids;\n    for( var i = 0; i < items.length; i++) {\n      // contents\n      assertThat(actual_contents[i].id).isEqualTo(makeString(items[i].item_id));\n      assertThat(actual_contents[i].item_price).isEqualTo(makeString(items[i].price));\n      assertThat(actual_contents[i].quantity).isEqualTo(makeInteger(items[i].quantity));\n      // content_ids\n      assertThat(actual_content_ids[i]).isEqualTo(makeString((items[i].item_id) ? items[i].item_id : items[i].item_name));\n    }\n    // num_items\n    let actual_num_items = JSON.parse(httpBody).data[0].custom_data.num_items;\n    assertThat(JSON.parse(httpBody).data[0].custom_data.contents.length).isEqualTo(items.length);\nsetup: |-\n  // Arrange\n  const JSON = require('JSON');\n  const Math = require('Math');\n  const getTimestampMillis = require('getTimestampMillis');\n  const sha256Sync = require('sha256Sync');\n  const makeInteger = require('makeInteger');\n  const makeString = require('makeString');\n  const logToConsole = require('logToConsole');\n  const DEFAULT_NAMED_PARTNER = 'ss-gtm';\n  const DEFAULT_ACTION_SOURCE = 'web';\n\n  // helper methods\n  function hashFunction(input) {\n    return sha256Sync(input.trim().toLowerCase(), {outputEncoding: 'hex'});\n  }\n\n  const testConfigurationData = {\n    advertiserId: \"123\",\n    apiAccessToken: \"token\",\n    eventName: \"inherit\",\n    overrideMode: true,\n    serverEventDataList:[{name: \"action_source\", value: \"serverWebsite\"}]\n  };\n\n  const testData = {\n    event_name: \"add_to_cart\",\n    action_source: \"web\",\n    event_time: \"1679414563\",\n    event_id: \"eventId001\",\n    opt_out: \"true\",\n    user_data: {\n      email_address: \"web@test.com\",\n      phone_number: \"123456789\",\n      gender: \"m\",\n      date_of_birth: \"19910526\",\n      first_name: \"mirko\",\n      last_name: \"rodriguez\",\n      city: \"menlopark\",\n      state: \"ca\",\n      country: \"us\",\n      hashed_maids: \"EA7583CD-A667-48BC-B806-42ECB2B48606\",\n      zip: \"12345\",\n      external_id: \"cdda802e-fb9c-47ad-9866-0794d394c912\",\n      ip_address: \"216.3.128.12\",\n      user_agent: \"Test_UA\",\n      click_id: \"dj0yJnU9b2JDcFFHekV4SHJNcmVrbFBkUEdqakh0akdUT1VjVVUmcD0yJm49cnNBQ3F2Q2dOVDBXWWhkWklrUGxBUSZ0PUFBQUFBR1BaY3Bv\"\n    },\n    //custom_data\n    currency: \"USD\",\n    value: \"123\",\n    content_name: \"pinterest-themed-clothing\",\n    content_category: \"shirts\",\n    content_brand: \"pinterest-brand\",\n    content_ids: [\"id_01\", \"id_02\"],\n    contents:  [{\"id\": \"id_01\", \"item_price\": \"12.4\", \"quantity\": 2}, {\"id\": \"id_02\", \"item_price\": \"14.2\", \"quantity\": 3}],\n    num_items: \"5\",\n    order_id: \"order_id\",\n    search_string: \"shoes\",\n    opt_out_type: \"LDP\",\n    language: \"en\"\n  };\n\n  let inputEventModel = {\n    \"event_name\": testData.event_name,\n    \"action_source\": testData.action_source,\n    \"event_time\": testData.event_time,\n    \"event_id\": testData.event_id,\n    \"opt_out\": testData.opt_out,\n    \"user_data\": {\n      \"email_address\": testData.user_data.email_address,\n      \"phone_number\": testData.user_data.phone_number,\n      \"gender\": testData.user_data.gender,\n      \"date_of_birth\": testData.user_data.date_of_birth,\n      \"address\": {\n        \"first_name\": testData.user_data.first_name,\n        \"last_name\": testData.user_data.last_name,\n        \"city\": testData.user_data.city,\n        \"region\": testData.user_data.state,\n        \"postal_code\": testData.user_data.zip,\n        \"country\": testData.user_data.country\n      },\n      \"hashed_maids\": testData.user_data.hashed_maids,\n      \"external_id\": testData.user_data.external_id,\n      \"click_id\": testData.user_data.click_id\n    },\n    \"ip_override\": testData.user_data.ip_address,\n    \"user_agent\": testData.user_data.user_agent,\n    //custom_data\n    \"currency\": testData.currency,\n    \"value\": testData.value,\n    \"content_name\": testData.content_name,\n    \"content_category\": testData.content_category,\n    \"content_brand\": testData.content_brand,\n    \"content_ids\": testData.content_ids,\n    \"contents\": testData.contents,\n    \"num_items\": testData.num_items,\n    \"order_id\": testData.order_id,\n    \"search_string\": testData.search_string,\n    \"opt_out_type\": testData.opt_out_type,\n    \"language\": testData.language\n  };\n\n  const expectedEventData = {\n  \"event_name\": testData.event_name.trim().toLowerCase(),\n  \"action_source\": testConfigurationData.serverEventDataList[testConfigurationData.serverEventDataList.map(o => o.name).indexOf('action_source')].value,\n  \"event_time\": makeInteger(testData.event_time),\n  \"event_id\": testData.event_id,\n  \"opt_out\": JSON.parse(testData.opt_out),\n  \"user_data\": {\n    \"em\": hashFunction(testData.user_data.email_address).split(),\n    \"ph\": hashFunction(testData.user_data.phone_number).split(),\n    \"ge\": hashFunction(testData.user_data.gender).split(),\n    \"db\": hashFunction(testData.user_data.date_of_birth).split(),\n    \"fn\": hashFunction(testData.user_data.first_name).split(),\n    \"ln\": hashFunction(testData.user_data.last_name).split(),\n    \"ct\": hashFunction(testData.user_data.city).split(),\n    \"st\": hashFunction(testData.user_data.state).split(),\n    \"zp\": hashFunction(testData.user_data.zip).split(),\n    \"country\": hashFunction(testData.user_data.country).split(),\n    \"hashed_maids\": hashFunction(testData.user_data.hashed_maids).split(),\n    \"external_id\": hashFunction(testData.user_data.external_id).split(),\n    \"click_id\": testData.user_data.click_id,\n    \"client_ip_address\": testData.user_data.ip_address,\n    \"client_user_agent\": testData.user_data.user_agent,\n  },\n  \"custom_data\": {\n    \"currency\": testData.currency,\n    \"value\": testData.value,\n    \"content_name\": testData.content_name,\n    \"content_category\": testData.content_category,\n    \"content_brand\": testData.content_brand,\n    \"content_ids\": testData.content_ids,\n    \"contents\": testData.contents,\n    \"num_items\": makeInteger(testData.num_items),\n    \"order_id\": testData.order_id,\n    \"search_string\": testData.search_string,\n    \"opt_out_type\": testData.opt_out_type,\n    \"np\": DEFAULT_NAMED_PARTNER\n  },\n  \"language\": testData.language\n  };\n\n  mock('getAllEventData', () => {\n    return inputEventModel;\n  });\n\n  var apiEndpoint = 'https://api.pinterest.com/v5/ad_accounts/';\n  const requestEndpoint = [apiEndpoint, testConfigurationData.advertiserId, '/events'].join('');\n\n  let requestData = {data: [expectedEventData]};\n  const requestHeaderOptions = {\n    headers: {'content-type': 'application/json',\n              'Authorization':'Bearer ' + testConfigurationData.apiAccessToken},\n    method: 'POST'};\n\n  let actualSuccessCallback, httpBody;\n  mock('sendHttpRequest', (postUrl, response, options, body) => {\n    actualSuccessCallback = response;\n    httpBody = body;\n    actualSuccessCallback(200, {}, '');\n  });\n\n\n___NOTES___\n\nPoints of Contact:\n\nYuchen Mou <ymou@pinterest.com>\nJian Li <jianli@pinterest.com>\nMirko J. Rodriguez Mallma <mrodriguezmallma@pinterest.com>\n\nCreated on 6/2/2022, 4:47:28 PM\nUpdated on 06/30/2023, 12:00:00 PM\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "pinterest",
                    "repository": "ss-gtm-template",
                    "version": "f3f5274f7719f579efa5db2d4150e73fa01e41b9",
                    "signature": "dab9094ab3c0eccc3af7987233165371a49e74c8015ce65816657d88f85c33c3"
                }
            }
        ]
    }
}